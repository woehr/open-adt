<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP, TypeFamilies, Rank2Types, FlexibleContexts, FlexibleInstances, GADTs, StandaloneDeriving, UndecidableInstances #-}</span><span>
</span><a name="line-2"></a><span>
</span><a name="line-3"></a><span class="hs-comment">-- explicit dictionary higher-kind instances are defined in</span><span>
</span><a name="line-4"></a><span class="hs-comment">-- - base-4.9</span><span>
</span><a name="line-5"></a><span class="hs-comment">-- - transformers &gt;= 0.5</span><span>
</span><a name="line-6"></a><span class="hs-comment">-- - transformes-compat &gt;= 0.5 when transformers aren't 0.4</span><span>
</span><a name="line-7"></a><span class="hs-comment">--</span><span>
</span><a name="line-8"></a><span class="hs-comment">-- We don't always depend on transformers-compat, so we need a shim for its version check.</span><span>
</span><a name="line-9"></a><span class="hs-cpp">#ifndef MIN_VERSION_transformers_compat
#define MIN_VERSION_transformers_compat(x,y,z) 0
#endif
</span><span>
</span><a name="line-13"></a><span class="hs-cpp">#define EXPLICIT_DICT_FUNCTOR_CLASSES (MIN_VERSION_base(4,9,0) || MIN_VERSION_transformers(0,5,0) || (MIN_VERSION_transformers_compat(0,5,0) &amp;&amp; !MIN_VERSION_transformers(0,4,0)))
</span><span>
</span><a name="line-15"></a><span class="hs-cpp">#define HAS_GENERIC (__GLASGOW_HASKELL__ &gt;= 702)
#define HAS_GENERIC1 (__GLASGOW_HASKELL__ &gt;= 706)
</span><span>
</span><a name="line-18"></a><span class="hs-comment">-- Polymorphic typeable</span><span>
</span><a name="line-19"></a><span class="hs-cpp">#define HAS_POLY_TYPEABLE MIN_VERSION_base(4,7,0)
</span><span>
</span><a name="line-21"></a><span class="hs-cpp">#ifdef __GLASGOW_HASKELL__
</span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><a name="line-23"></a><span class="hs-cpp">#if __GLASGOW_HASKELL__ &gt;= 800
</span><span class="hs-pragma">{-# LANGUAGE ConstrainedClassMethods #-}</span><span>
</span><a name="line-25"></a><span class="hs-cpp">#endif
#if HAS_GENERIC
</span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><a name="line-28"></a><span class="hs-cpp">#endif
#endif
</span><span>
</span><a name="line-31"></a><span>
</span><a name="line-32"></a><span>
</span><a name="line-33"></a><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><a name="line-34"></a><span class="hs-comment">-- |</span><span>
</span><a name="line-35"></a><span class="hs-comment">-- Copyright   :  (C) 2008-2015 Edward Kmett</span><span>
</span><a name="line-36"></a><span class="hs-comment">-- License     :  BSD-style (see the file LICENSE)</span><span>
</span><a name="line-37"></a><span class="hs-comment">--</span><span>
</span><a name="line-38"></a><span class="hs-comment">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span><span>
</span><a name="line-39"></a><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><a name="line-40"></a><span class="hs-comment">-- Portability :  non-portable</span><span>
</span><a name="line-41"></a><span class="hs-comment">--</span><span>
</span><a name="line-42"></a><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><a name="line-43"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Functor.Foldable</span><span>
</span><a name="line-44"></a><span>  </span><span class="hs-special">(</span><span>
</span><a name="line-45"></a><span>  </span><span class="hs-comment">-- * Base functors for fixed points</span><span>
</span><a name="line-46"></a><span>    </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span>
</span><a name="line-47"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-48"></a><span>  </span><span class="hs-comment">-- * Fixed points</span><span>
</span><a name="line-49"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#unfix"><span class="hs-identifier hs-var">unfix</span></a><span>
</span><a name="line-50"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier hs-type">Mu</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-51"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-type">Nu</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-52"></a><span>  </span><span class="hs-comment">-- * Folding</span><span>
</span><a name="line-53"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-54"></a><span>  </span><span class="hs-comment">-- ** Combinators</span><span>
</span><a name="line-55"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#gapo"><span class="hs-identifier hs-var">gapo</span></a><span>
</span><a name="line-56"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#gcata"><span class="hs-identifier hs-var">gcata</span></a><span>
</span><a name="line-57"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#zygo"><span class="hs-identifier hs-var">zygo</span></a><span>
</span><a name="line-58"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#gzygo"><span class="hs-identifier hs-var">gzygo</span></a><span>
</span><a name="line-59"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#histo"><span class="hs-identifier hs-var">histo</span></a><span>
</span><a name="line-60"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#ghisto"><span class="hs-identifier hs-var">ghisto</span></a><span>
</span><a name="line-61"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#futu"><span class="hs-identifier hs-var">futu</span></a><span>
</span><a name="line-62"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#chrono"><span class="hs-identifier hs-var">chrono</span></a><span>
</span><a name="line-63"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#gchrono"><span class="hs-identifier hs-var">gchrono</span></a><span>
</span><a name="line-64"></a><span>  </span><span class="hs-comment">-- ** Distributive laws</span><span>
</span><a name="line-65"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distCata"><span class="hs-identifier hs-var">distCata</span></a><span>
</span><a name="line-66"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distPara"><span class="hs-identifier hs-var">distPara</span></a><span>
</span><a name="line-67"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distParaT"><span class="hs-identifier hs-var">distParaT</span></a><span>
</span><a name="line-68"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distZygo"><span class="hs-identifier hs-var">distZygo</span></a><span>
</span><a name="line-69"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distZygoT"><span class="hs-identifier hs-var">distZygoT</span></a><span>
</span><a name="line-70"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distHisto"><span class="hs-identifier hs-var">distHisto</span></a><span>
</span><a name="line-71"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distGHisto"><span class="hs-identifier hs-var">distGHisto</span></a><span>
</span><a name="line-72"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distFutu"><span class="hs-identifier hs-var">distFutu</span></a><span>
</span><a name="line-73"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distGFutu"><span class="hs-identifier hs-var">distGFutu</span></a><span>
</span><a name="line-74"></a><span>  </span><span class="hs-comment">-- * Unfolding</span><span>
</span><a name="line-75"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-76"></a><span>  </span><span class="hs-comment">-- ** Combinators</span><span>
</span><a name="line-77"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#gana"><span class="hs-identifier hs-var">gana</span></a><span>
</span><a name="line-78"></a><span>  </span><span class="hs-comment">-- ** Distributive laws</span><span>
</span><a name="line-79"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distAna"><span class="hs-identifier hs-var">distAna</span></a><span>
</span><a name="line-80"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distApo"><span class="hs-identifier hs-var">distApo</span></a><span>
</span><a name="line-81"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distGApo"><span class="hs-identifier hs-var">distGApo</span></a><span>
</span><a name="line-82"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#distGApoT"><span class="hs-identifier hs-var">distGApoT</span></a><span>
</span><a name="line-83"></a><span>  </span><span class="hs-comment">-- * Refolding</span><span>
</span><a name="line-84"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#hylo"><span class="hs-identifier hs-var">hylo</span></a><span>
</span><a name="line-85"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#ghylo"><span class="hs-identifier hs-var">ghylo</span></a><span>
</span><a name="line-86"></a><span>  </span><span class="hs-comment">-- ** Changing representation</span><span>
</span><a name="line-87"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#refix"><span class="hs-identifier hs-var">refix</span></a><span>
</span><a name="line-88"></a><span>  </span><span class="hs-comment">-- * Common names</span><span>
</span><a name="line-89"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#fold"><span class="hs-identifier hs-var">fold</span></a><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#gfold"><span class="hs-identifier hs-var">gfold</span></a><span>
</span><a name="line-90"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#unfold"><span class="hs-identifier hs-var">unfold</span></a><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#gunfold"><span class="hs-identifier hs-var">gunfold</span></a><span>
</span><a name="line-91"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#refold"><span class="hs-identifier hs-var">refold</span></a><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#grefold"><span class="hs-identifier hs-var">grefold</span></a><span>
</span><a name="line-92"></a><span>  </span><span class="hs-comment">-- * Mendler-style</span><span>
</span><a name="line-93"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#mcata"><span class="hs-identifier hs-var">mcata</span></a><span>
</span><a name="line-94"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#mhisto"><span class="hs-identifier hs-var">mhisto</span></a><span>
</span><a name="line-95"></a><span>  </span><span class="hs-comment">-- * Elgot (co)algebras</span><span>
</span><a name="line-96"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#elgot"><span class="hs-identifier hs-var">elgot</span></a><span>
</span><a name="line-97"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#coelgot"><span class="hs-identifier hs-var">coelgot</span></a><span>
</span><a name="line-98"></a><span>  </span><span class="hs-comment">-- * Zygohistomorphic prepromorphisms</span><span>
</span><a name="line-99"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#zygoHistoPrepro"><span class="hs-identifier hs-var">zygoHistoPrepro</span></a><span>
</span><a name="line-100"></a><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-101"></a><span>
</span><a name="line-102"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Applicative</span><span>
</span><a name="line-103"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Comonad</span><span>
</span><a name="line-104"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Comonad.Trans.Class</span><span>
</span><a name="line-105"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Comonad.Trans.Env</span><span>
</span><a name="line-106"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Control.Comonad.Cofree</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Cofree</span><span>
</span><a name="line-107"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Comonad.Cofree</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Cofree</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-108"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Control.Comonad.Trans.Cofree</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">CofreeF</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">CofreeT</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-109"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Control.Comonad.Trans.Cofree</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">CCTC</span><span>
</span><a name="line-110"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">liftM</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">join</span><span class="hs-special">)</span><span>
</span><a name="line-111"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Free</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Free</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-112"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Control.Monad.Free.Church</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">CMFC</span><span>
</span><a name="line-113"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Trans.Except</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">ExceptT</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">runExceptT</span><span class="hs-special">)</span><span>
</span><a name="line-114"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Control.Monad.Trans.Free</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">FreeF</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">FreeT</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-115"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Control.Monad.Trans.Free</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">CMTF</span><span>
</span><a name="line-116"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Functor.Identity</span><span>
</span><a name="line-117"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Arrow</span><span>
</span><a name="line-118"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Function</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">on</span><span class="hs-special">)</span><span>
</span><a name="line-119"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Functor.Classes</span><span>
</span><a name="line-120"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Functor.Compose</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Compose</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-121"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.List.NonEmpty</span><span class="hs-special">(</span><span class="hs-identifier hs-type">NonEmpty</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">:|</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">nonEmpty</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">toList</span><span class="hs-special">)</span><span>
</span><a name="line-122"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Text.Read</span><span>
</span><a name="line-123"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Text.Show</span><span>
</span><a name="line-124"></a><span class="hs-cpp">#ifdef __GLASGOW_HASKELL__
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Data</span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">gunfold</span><span class="hs-special">)</span><span>
</span><a name="line-126"></a><span class="hs-cpp">#if HAS_POLY_TYPEABLE
#else
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Data</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Data</span><span>
</span><a name="line-129"></a><span class="hs-cpp">#endif
#if HAS_GENERIC
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GHC.Generics</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Generic</span><span class="hs-special">)</span><span>
</span><a name="line-132"></a><span class="hs-cpp">#endif
#if HAS_GENERIC1
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GHC.Generics</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Generic1</span><span class="hs-special">)</span><span>
</span><a name="line-135"></a><span class="hs-cpp">#endif
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Numeric.Natural</span><span>
</span><a name="line-138"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Monoid</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Monoid</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-139"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Prelude</span><span>
</span><a name="line-140"></a><span>
</span><a name="line-141"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Foldable</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">F</span><span>
</span><a name="line-142"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Traversable</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">T</span><span>
</span><a name="line-143"></a><span>
</span><a name="line-144"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Bifunctor</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Bi</span><span>
</span><a name="line-145"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Bifoldable</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Bi</span><span>
</span><a name="line-146"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Bitraversable</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Bi</span><span>
</span><a name="line-147"></a><span>
</span><a name="line-148"></a><span class="hs-keyword">import</span><span>           </span><a href="Data.Functor.Base.html"><span class="hs-identifier">Data.Functor.Base</span></a><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Base.html#head"><span class="hs-identifier hs-var">head</span></a><span class="hs-special">,</span><span> </span><a href="Data.Functor.Base.html#tail"><span class="hs-identifier hs-var">tail</span></a><span class="hs-special">)</span><span>
</span><a name="line-149"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="Data.Functor.Base.html"><span class="hs-identifier">Data.Functor.Base</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">NEF</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Base.html#NonEmptyF"><span class="hs-identifier hs-type">NonEmptyF</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-150"></a><span>
</span><a name="line-151"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><a name="Base"><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier">Base</span></a></a><span> </span><a name="local-6989586621679077114"><a href="#local-6989586621679077114"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator hs-type">*</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator hs-type">*</span><span>
</span><a name="line-152"></a><span>
</span><a name="line-153"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="Recursive"><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier">Recursive</span></a></a><span> </span><a name="local-6989586621679077089"><a href="#local-6989586621679077089"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-154"></a><span>  </span><a name="project"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-155"></a><span>
</span><a name="line-156"></a><span>  </span><a name="cata"><a href="Data.Functor.Foldable.html#cata"><span class="hs-identifier">cata</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077090"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077090"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ a (Base t)-algebra</span><span>
</span><a name="line-157"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span>               </span><span class="hs-comment">-- ^ fixed point</span><span>
</span><a name="line-158"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077090"><span class="hs-identifier hs-type">a</span></a><span>               </span><span class="hs-comment">-- ^ result</span><span>
</span><a name="line-159"></a><span>  </span><a name="local-8214565720323851784"><a href="Data.Functor.Foldable.html#cata"><span class="hs-identifier">cata</span></a></a><span> </span><a name="local-6989586621679077101"><a href="#local-6989586621679077101"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077102"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679077102"><a href="#local-6989586621679077102"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077101"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-6989586621679077102"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier hs-var">project</span></a><span>
</span><a name="line-160"></a><span>
</span><a name="line-161"></a><span>  </span><a name="para"><a href="Data.Functor.Foldable.html#para"><span class="hs-identifier">para</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679077091"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077091"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077091"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-162"></a><span>  </span><a name="local-8214565720323851785"><a href="Data.Functor.Foldable.html#para"><span class="hs-identifier">para</span></a></a><span> </span><a name="local-6989586621679077103"><a href="#local-6989586621679077103"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077104"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679077104"><a href="#local-6989586621679077104"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679077105"><a href="#local-6989586621679077105"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077103"><span class="hs-identifier hs-var">t</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;*&gt;</span><span> </span><a href="#local-6989586621679077104"><span class="hs-identifier hs-var">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier hs-var">project</span></a><span> </span><a href="#local-6989586621679077105"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-163"></a><span>
</span><a name="line-164"></a><span>  </span><a name="gpara"><a href="Data.Functor.Foldable.html#gpara"><span class="hs-identifier">gpara</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Comonad</span><span> </span><a href="#local-6989586621679077092"><span class="hs-identifier hs-type">w</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077094"><a href="#local-6989586621679077094"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077092"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077094"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077092"><span class="hs-identifier hs-type">w</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077094"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">EnvT</span><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077092"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077093"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077093"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077093"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-165"></a><span>  </span><a name="local-8214565720323851786"><a href="Data.Functor.Foldable.html#gpara"><span class="hs-identifier">gpara</span></a></a><span> </span><a name="local-6989586621679077106"><a href="#local-6989586621679077106"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#gzygo"><span class="hs-identifier hs-var">gzygo</span></a><span> </span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span> </span><a href="#local-6989586621679077106"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-166"></a><span>
</span><a name="line-167"></a><span>  </span><span class="hs-comment">-- | Fokkinga's prepromorphism</span><span>
</span><a name="line-168"></a><span>  </span><a name="prepro"><a href="Data.Functor.Foldable.html#prepro"><span class="hs-identifier">prepro</span></a></a><span>
</span><a name="line-169"></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-170"></a><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077096"><a href="#local-6989586621679077096"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077096"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077096"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-171"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077095"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077095"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-172"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-173"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077095"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-174"></a><span>  </span><a name="local-8214565720323851787"><a href="Data.Functor.Foldable.html#prepro"><span class="hs-identifier">prepro</span></a></a><span> </span><a name="local-6989586621679077107"><a href="#local-6989586621679077107"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679077108"><a href="#local-6989586621679077108"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077109"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679077109"><a href="#local-6989586621679077109"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077108"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077109"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#cata"><span class="hs-identifier hs-var">cata</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077107"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier hs-var">project</span></a><span>
</span><a name="line-175"></a><span>
</span><a name="line-176"></a><span>  </span><span class="hs-comment">--- | A generalized prepromorphism</span><span>
</span><a name="line-177"></a><span>  </span><a name="gprepro"><a href="Data.Functor.Foldable.html#gprepro"><span class="hs-identifier">gprepro</span></a></a><span>
</span><a name="line-178"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Comonad</span><span> </span><a href="#local-6989586621679077097"><span class="hs-identifier hs-type">w</span></a><span class="hs-special">)</span><span>
</span><a name="line-179"></a><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077099"><a href="#local-6989586621679077099"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077097"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077099"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077097"><span class="hs-identifier hs-type">w</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077099"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-180"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077100"><a href="#local-6989586621679077100"><span class="hs-identifier">c</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077100"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077100"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span>
</span><a name="line-181"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077097"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077098"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077098"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-182"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077089"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-183"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077098"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-184"></a><span>  </span><a name="local-8214565720323851788"><a href="Data.Functor.Foldable.html#gprepro"><span class="hs-identifier">gprepro</span></a></a><span> </span><a name="local-6989586621679077110"><a href="#local-6989586621679077110"><span class="hs-identifier">k</span></a></a><span> </span><a name="local-6989586621679077111"><a href="#local-6989586621679077111"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679077112"><a href="#local-6989586621679077112"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">extract</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077113"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679077113"><a href="#local-6989586621679077113"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-6989586621679077112"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077110"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">duplicate</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077113"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#cata"><span class="hs-identifier hs-var">cata</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077111"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier hs-var">project</span></a><span>
</span><a name="line-185"></a><span>
</span><a name="line-186"></a><span class="hs-identifier">distPara</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077913"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077913"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077913"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679077914"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077913"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077913"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077914"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-187"></a><a name="distPara"><a href="Data.Functor.Foldable.html#distPara"><span class="hs-identifier">distPara</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#distZygo"><span class="hs-identifier hs-var">distZygo</span></a><span> </span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span>
</span><a name="line-188"></a><span>
</span><a name="line-189"></a><span class="hs-identifier">distParaT</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077909"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Comonad</span><span> </span><a href="#local-6989586621679077910"><span class="hs-identifier hs-type">w</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077912"><a href="#local-6989586621679077912"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077909"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077910"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077912"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077910"><span class="hs-identifier hs-type">w</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077909"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077912"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077909"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">EnvT</span><span> </span><a href="#local-6989586621679077909"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077910"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077911"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">EnvT</span><span> </span><a href="#local-6989586621679077909"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077910"><span class="hs-identifier hs-type">w</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077909"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077911"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-190"></a><a name="distParaT"><a href="Data.Functor.Foldable.html#distParaT"><span class="hs-identifier">distParaT</span></a></a><span> </span><a name="local-6989586621679077915"><a href="#local-6989586621679077915"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#distZygoT"><span class="hs-identifier hs-var">distZygoT</span></a><span> </span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span> </span><a href="#local-6989586621679077915"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-191"></a><span>
</span><a name="line-192"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="Corecursive"><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier">Corecursive</span></a></a><span> </span><a name="local-6989586621679076932"><a href="#local-6989586621679076932"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-193"></a><span>  </span><a name="embed"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-194"></a><span>  </span><a name="ana"><a href="Data.Functor.Foldable.html#ana"><span class="hs-identifier">ana</span></a></a><span>
</span><a name="line-195"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679076933"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679076933"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ a (Base t)-coalgebra</span><span>
</span><a name="line-196"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679076933"><span class="hs-identifier hs-type">a</span></a><span>               </span><span class="hs-comment">-- ^ seed</span><span>
</span><a name="line-197"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span>               </span><span class="hs-comment">-- ^ resulting fixed point</span><span>
</span><a name="line-198"></a><span>  </span><a name="local-8214565720323851778"><a href="Data.Functor.Foldable.html#ana"><span class="hs-identifier">ana</span></a></a><span> </span><a name="local-6989586621679077078"><a href="#local-6989586621679077078"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077079"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679077079"><a href="#local-6989586621679077079"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-6989586621679077079"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077078"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-199"></a><span>
</span><a name="line-200"></a><span>  </span><a name="apo"><a href="Data.Functor.Foldable.html#apo"><span class="hs-identifier">apo</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679076934"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Either</span><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679076934"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679076934"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-201"></a><span>  </span><a name="local-8214565720323851779"><a href="Data.Functor.Foldable.html#apo"><span class="hs-identifier">apo</span></a></a><span> </span><a name="local-6989586621679077080"><a href="#local-6989586621679077080"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077081"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679077081"><a href="#local-6989586621679077081"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">either</span><span> </span><span class="hs-identifier hs-var">id</span><span> </span><a href="#local-6989586621679077081"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077080"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-202"></a><span>
</span><a name="line-203"></a><span>  </span><span class="hs-comment">-- | Fokkinga's postpromorphism</span><span>
</span><a name="line-204"></a><span>  </span><a name="postpro"><a href="Data.Functor.Foldable.html#postpro"><span class="hs-identifier">postpro</span></a></a><span>
</span><a name="line-205"></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-206"></a><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077073"><a href="#local-6989586621679077073"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077073"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077073"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- natural transformation</span><span>
</span><a name="line-207"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077072"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077072"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>                  </span><span class="hs-comment">-- a (Base t)-coalgebra</span><span>
</span><a name="line-208"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077072"><span class="hs-identifier hs-type">a</span></a><span>                                </span><span class="hs-comment">-- seed</span><span>
</span><a name="line-209"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-210"></a><span>  </span><a name="local-8214565720323851780"><a href="Data.Functor.Foldable.html#postpro"><span class="hs-identifier">postpro</span></a></a><span> </span><a name="local-6989586621679077082"><a href="#local-6989586621679077082"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679077083"><a href="#local-6989586621679077083"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077084"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679077084"><a href="#local-6989586621679077084"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#ana"><span class="hs-identifier hs-var">ana</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077082"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier hs-var">project</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077084"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077083"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-211"></a><span>
</span><a name="line-212"></a><span>  </span><span class="hs-comment">-- | A generalized postpromorphism</span><span>
</span><a name="line-213"></a><span>  </span><a name="gpostpro"><a href="Data.Functor.Foldable.html#gpostpro"><span class="hs-identifier">gpostpro</span></a></a><span>
</span><a name="line-214"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="#local-6989586621679077074"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span>
</span><a name="line-215"></a><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077076"><a href="#local-6989586621679077076"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679077074"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077076"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077074"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077076"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- distributive law</span><span>
</span><a name="line-216"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077077"><a href="#local-6989586621679077077"><span class="hs-identifier">c</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077077"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077077"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span>         </span><span class="hs-comment">-- natural transformation</span><span>
</span><a name="line-217"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077075"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077074"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077075"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>                      </span><span class="hs-comment">-- a (Base t)-m-coalgebra</span><span>
</span><a name="line-218"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077075"><span class="hs-identifier hs-type">a</span></a><span>                                        </span><span class="hs-comment">-- seed</span><span>
</span><a name="line-219"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679076932"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-220"></a><span>  </span><a name="local-8214565720323851781"><a href="Data.Functor.Foldable.html#gpostpro"><span class="hs-identifier">gpostpro</span></a></a><span> </span><a name="local-6989586621679077085"><a href="#local-6989586621679077085"><span class="hs-identifier">k</span></a></a><span> </span><a name="local-6989586621679077086"><a href="#local-6989586621679077086"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679077087"><a href="#local-6989586621679077087"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077088"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679077088"><a href="#local-6989586621679077088"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#ana"><span class="hs-identifier hs-var">ana</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077086"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier hs-var">project</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077088"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">join</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077085"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">liftM</span><span> </span><a href="#local-6989586621679077087"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-221"></a><span>
</span><a name="line-222"></a><span class="hs-identifier">hylo</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077906"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077906"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077907"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077907"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077908"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077906"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077908"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077908"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077907"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-223"></a><a name="hylo"><a href="Data.Functor.Foldable.html#hylo"><span class="hs-identifier">hylo</span></a></a><span> </span><a name="local-6989586621679077916"><a href="#local-6989586621679077916"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077917"><a href="#local-6989586621679077917"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077918"><span class="hs-identifier hs-var">h</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679077918"><a href="#local-6989586621679077918"><span class="hs-identifier">h</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077916"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-6989586621679077918"><span class="hs-identifier hs-var">h</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077917"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-224"></a><span>
</span><a name="line-225"></a><span class="hs-identifier">fold</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077904"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077904"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077905"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077905"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077904"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077905"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-226"></a><a name="fold"><a href="Data.Functor.Foldable.html#fold"><span class="hs-identifier">fold</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#cata"><span class="hs-identifier hs-var">cata</span></a><span>
</span><a name="line-227"></a><span>
</span><a name="line-228"></a><span class="hs-identifier">unfold</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077902"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077903"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077902"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077903"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077903"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077902"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-229"></a><a name="unfold"><a href="Data.Functor.Foldable.html#unfold"><span class="hs-identifier">unfold</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#ana"><span class="hs-identifier hs-var">ana</span></a><span>
</span><a name="line-230"></a><span>
</span><a name="line-231"></a><span class="hs-identifier">refold</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077899"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077899"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077900"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077900"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077901"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077899"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077901"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077901"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077900"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-232"></a><a name="refold"><a href="Data.Functor.Foldable.html#refold"><span class="hs-identifier">refold</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#hylo"><span class="hs-identifier hs-var">hylo</span></a><span>
</span><a name="line-233"></a><span>
</span><a name="line-234"></a><span class="hs-comment">-- | Base functor of @[]@.</span><span>
</span><a name="line-235"></a><span class="hs-keyword">data</span><span> </span><a name="ListF"><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier">ListF</span></a></a><span> </span><a name="local-6989586621679076930"><a href="#local-6989586621679076930"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679076931"><a href="#local-6989586621679076931"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Nil"><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier">Nil</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a name="Cons"><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier">Cons</span></a></a><span> </span><a href="#local-6989586621679076930"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679076931"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-236"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Ord</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Read</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Typeable</span><span>
</span><a name="line-237"></a><span class="hs-cpp">#if HAS_GENERIC
</span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Generic</span><span>
</span><a name="line-239"></a><span class="hs-cpp">#endif
#if HAS_GENERIC1
</span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Generic1</span><span>
</span><a name="line-242"></a><span class="hs-cpp">#endif
</span><span>          </span><span class="hs-special">)</span><span>
</span><a name="line-244"></a><span>
</span><a name="line-245"></a><span class="hs-cpp">#if EXPLICIT_DICT_FUNCTOR_CLASSES
</span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Eq2</span><span> </span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-247"></a><span>  </span><a name="local-8214565720323786749"><span class="hs-identifier">liftEq2</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>        </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-248"></a><span>  </span><span class="hs-identifier">liftEq2</span><span> </span><a name="local-6989586621679077529"><a href="#local-6989586621679077529"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077530"><a href="#local-6989586621679077530"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077531"><a href="#local-6989586621679077531"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679077532"><a href="#local-6989586621679077532"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077533"><a href="#local-6989586621679077533"><span class="hs-identifier">a'</span></a></a><span> </span><a name="local-6989586621679077534"><a href="#local-6989586621679077534"><span class="hs-identifier">b'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077529"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077531"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="#local-6989586621679077533"><span class="hs-identifier hs-var">a'</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="#local-6989586621679077530"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679077532"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="#local-6989586621679077534"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-249"></a><span>  </span><span class="hs-identifier">liftEq2</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>          </span><span class="hs-identifier">_</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-250"></a><span>
</span><a name="line-251"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><a href="#local-6989586621679077528"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Eq1</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><a href="#local-6989586621679077528"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-252"></a><span>  </span><a name="local-8214565720323786737"><span class="hs-identifier">liftEq</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">liftEq2</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">==</span><span class="hs-special">)</span><span>
</span><a name="line-253"></a><span>
</span><a name="line-254"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Ord2</span><span> </span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-255"></a><span>  </span><a name="local-8214565720323786751"><span class="hs-identifier">liftCompare2</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>        </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">EQ</span><span>
</span><a name="line-256"></a><span>  </span><span class="hs-identifier">liftCompare2</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>        </span><span class="hs-identifier">_</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">LT</span><span>
</span><a name="line-257"></a><span>  </span><span class="hs-identifier">liftCompare2</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>          </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">GT</span><span>
</span><a name="line-258"></a><span>  </span><span class="hs-identifier">liftCompare2</span><span> </span><a name="local-6989586621679077522"><a href="#local-6989586621679077522"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077523"><a href="#local-6989586621679077523"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077524"><a href="#local-6989586621679077524"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679077525"><a href="#local-6989586621679077525"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077526"><a href="#local-6989586621679077526"><span class="hs-identifier">a'</span></a></a><span> </span><a name="local-6989586621679077527"><a href="#local-6989586621679077527"><span class="hs-identifier">b'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077522"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077524"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="#local-6989586621679077526"><span class="hs-identifier hs-var">a'</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">mappend</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679077523"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679077525"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="#local-6989586621679077527"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-259"></a><span>
</span><a name="line-260"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="#local-6989586621679077521"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Ord1</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><a href="#local-6989586621679077521"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-261"></a><span>  </span><a name="local-8214565720323786739"><span class="hs-identifier">liftCompare</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">liftCompare2</span><span> </span><span class="hs-identifier hs-var">compare</span><span>
</span><a name="line-262"></a><span>
</span><a name="line-263"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><a href="#local-6989586621679077520"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Show1</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><a href="#local-6989586621679077520"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-264"></a><span>  </span><a name="local-8214565720323786747"><span class="hs-identifier">liftShowsPrec</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">liftShowsPrec2</span><span> </span><span class="hs-identifier hs-var">showsPrec</span><span> </span><span class="hs-identifier hs-var">showList</span><span>
</span><a name="line-265"></a><span>
</span><a name="line-266"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show2</span><span> </span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-267"></a><span>  </span><a name="local-8214565720323786759"><span class="hs-identifier">liftShowsPrec2</span></a><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">showString</span><span> </span><span class="hs-string">&quot;Nil&quot;</span><span>
</span><a name="line-268"></a><span>  </span><span class="hs-identifier">liftShowsPrec2</span><span> </span><a name="local-6989586621679077515"><a href="#local-6989586621679077515"><span class="hs-identifier">sa</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679077516"><a href="#local-6989586621679077516"><span class="hs-identifier">sb</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679077517"><a href="#local-6989586621679077517"><span class="hs-identifier">d</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077518"><a href="#local-6989586621679077518"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679077519"><a href="#local-6989586621679077519"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">showParen</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077517"><span class="hs-identifier hs-var">d</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span> </span><span class="hs-number">10</span><span class="hs-special">)</span><span>
</span><a name="line-269"></a><span>    </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">showString</span><span> </span><span class="hs-string">&quot;Cons &quot;</span><span>
</span><a name="line-270"></a><span>    </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077515"><span class="hs-identifier hs-var">sa</span></a><span> </span><span class="hs-number">11</span><span> </span><a href="#local-6989586621679077518"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-271"></a><span>    </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">showString</span><span> </span><span class="hs-string">&quot; &quot;</span><span>
</span><a name="line-272"></a><span>    </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077516"><span class="hs-identifier hs-var">sb</span></a><span> </span><span class="hs-number">11</span><span> </span><a href="#local-6989586621679077519"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-273"></a><span>
</span><a name="line-274"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Read2</span><span> </span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-275"></a><span>  </span><a name="local-8214565720323786756"><span class="hs-identifier">liftReadsPrec2</span></a><span> </span><a name="local-6989586621679077501"><a href="#local-6989586621679077501"><span class="hs-identifier">ra</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679077502"><a href="#local-6989586621679077502"><span class="hs-identifier">rb</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679077503"><a href="#local-6989586621679077503"><span class="hs-identifier">d</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">readParen</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077503"><span class="hs-identifier hs-var">d</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span> </span><span class="hs-number">10</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679077514"><a href="#local-6989586621679077514"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077504"><span class="hs-identifier hs-var">nil</span></a><span> </span><a href="#local-6989586621679077514"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621679077505"><span class="hs-identifier hs-var">cons</span></a><span> </span><a href="#local-6989586621679077514"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-276"></a><span>    </span><span class="hs-keyword">where</span><span>
</span><a name="line-277"></a><span>      </span><a name="local-6989586621679077504"><a href="#local-6989586621679077504"><span class="hs-identifier">nil</span></a></a><span> </span><a name="local-6989586621679077506"><a href="#local-6989586621679077506"><span class="hs-identifier">s0</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-278"></a><span>        </span><span class="hs-special">(</span><span class="hs-string">&quot;Nil&quot;</span><span class="hs-special">,</span><span> </span><a name="local-6989586621679077507"><a href="#local-6989586621679077507"><span class="hs-identifier">s1</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">lex</span><span> </span><a href="#local-6989586621679077506"><span class="hs-identifier hs-var">s0</span></a><span>
</span><a name="line-279"></a><span>        </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679077507"><span class="hs-identifier hs-var">s1</span></a><span class="hs-special">)</span><span>
</span><a name="line-280"></a><span>      </span><a name="local-6989586621679077505"><a href="#local-6989586621679077505"><span class="hs-identifier">cons</span></a></a><span> </span><a name="local-6989586621679077508"><a href="#local-6989586621679077508"><span class="hs-identifier">s0</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-281"></a><span>        </span><span class="hs-special">(</span><span class="hs-string">&quot;Cons&quot;</span><span class="hs-special">,</span><span> </span><a name="local-6989586621679077509"><a href="#local-6989586621679077509"><span class="hs-identifier">s1</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">lex</span><span> </span><a href="#local-6989586621679077508"><span class="hs-identifier hs-var">s0</span></a><span>
</span><a name="line-282"></a><span>        </span><span class="hs-special">(</span><a name="local-6989586621679077510"><a href="#local-6989586621679077510"><span class="hs-identifier">a</span></a></a><span class="hs-special">,</span><span>      </span><a name="local-6989586621679077511"><a href="#local-6989586621679077511"><span class="hs-identifier">s2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679077501"><span class="hs-identifier hs-var">ra</span></a><span> </span><span class="hs-number">11</span><span> </span><a href="#local-6989586621679077509"><span class="hs-identifier hs-var">s1</span></a><span>
</span><a name="line-283"></a><span>        </span><span class="hs-special">(</span><a name="local-6989586621679077512"><a href="#local-6989586621679077512"><span class="hs-identifier">b</span></a></a><span class="hs-special">,</span><span>      </span><a name="local-6989586621679077513"><a href="#local-6989586621679077513"><span class="hs-identifier">s3</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679077502"><span class="hs-identifier hs-var">rb</span></a><span> </span><span class="hs-number">11</span><span> </span><a href="#local-6989586621679077511"><span class="hs-identifier hs-var">s2</span></a><span>
</span><a name="line-284"></a><span>        </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a href="#local-6989586621679077510"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="#local-6989586621679077512"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679077513"><span class="hs-identifier hs-var">s3</span></a><span class="hs-special">)</span><span>
</span><a name="line-285"></a><span>
</span><a name="line-286"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Read</span><span> </span><a href="#local-6989586621679077500"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Read1</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><a href="#local-6989586621679077500"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-287"></a><span>  </span><a name="local-8214565720323786744"><span class="hs-identifier">liftReadsPrec</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">liftReadsPrec2</span><span> </span><span class="hs-identifier hs-var">readsPrec</span><span> </span><span class="hs-identifier hs-var">readList</span><span>
</span><a name="line-288"></a><span>
</span><a name="line-289"></a><span class="hs-cpp">#else
</span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Eq</span><span> </span><span class="hs-identifier">a</span><span>   </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Eq1</span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">ListF</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">eq1</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator">==</span><span class="hs-special">)</span><span>
</span><a name="line-291"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Ord</span><span> </span><span class="hs-identifier">a</span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Ord1</span><span>  </span><span class="hs-special">(</span><span class="hs-identifier">ListF</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">compare1</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">compare</span><span>
</span><a name="line-292"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Show</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Show1</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ListF</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">showsPrec1</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">showsPrec</span><span>
</span><a name="line-293"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Read</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Read1</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ListF</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">readsPrec1</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">readsPrec</span><span>
</span><a name="line-294"></a><span class="hs-cpp">#endif
</span><span>
</span><a name="line-296"></a><span class="hs-comment">-- These instances cannot be auto-derived on with GHC &lt;= 7.6</span><span>
</span><a name="line-297"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><a href="#local-6989586621679077496"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-298"></a><span>  </span><a name="local-3458764513820541101"><span class="hs-identifier">fmap</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>
</span><a name="line-299"></a><span>  </span><span class="hs-identifier">fmap</span><span> </span><a name="local-6989586621679077497"><a href="#local-6989586621679077497"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077498"><a href="#local-6989586621679077498"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679077499"><a href="#local-6989586621679077499"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a href="#local-6989586621679077498"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077497"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077499"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-300"></a><span>
</span><a name="line-301"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">F.Foldable</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><a href="#local-6989586621679077493"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-302"></a><span>  </span><a name="local-8214565720323788733"><span class="hs-identifier">foldMap</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Data.Monoid.mempty</span><span>
</span><a name="line-303"></a><span>  </span><span class="hs-identifier">foldMap</span><span> </span><a name="local-6989586621679077494"><a href="#local-6989586621679077494"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679077495"><a href="#local-6989586621679077495"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077494"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077495"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-304"></a><span>
</span><a name="line-305"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">T.Traversable</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><a href="#local-6989586621679077489"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-306"></a><span>  </span><a name="local-8214565720323787303"><span class="hs-identifier">traverse</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">pure</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>
</span><a name="line-307"></a><span>  </span><span class="hs-identifier">traverse</span><span> </span><a name="local-6989586621679077490"><a href="#local-6989586621679077490"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077491"><a href="#local-6989586621679077491"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679077492"><a href="#local-6989586621679077492"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a href="#local-6989586621679077491"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="#local-6989586621679077490"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077492"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-308"></a><span>
</span><a name="line-309"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Bi.Bifunctor</span><span> </span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-310"></a><span>  </span><a name="local-8214565720323786663"><span class="hs-identifier">bimap</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>
</span><a name="line-311"></a><span>  </span><span class="hs-identifier">bimap</span><span> </span><a name="local-6989586621679077485"><a href="#local-6989586621679077485"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077486"><a href="#local-6989586621679077486"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077487"><a href="#local-6989586621679077487"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679077488"><a href="#local-6989586621679077488"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077485"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077487"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077486"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679077488"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-312"></a><span>
</span><a name="line-313"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Bi.Bifoldable</span><span> </span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-314"></a><span>  </span><a name="local-8214565720323786649"><span class="hs-identifier">bifoldMap</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-315"></a><span>  </span><span class="hs-identifier">bifoldMap</span><span> </span><a name="local-6989586621679077481"><a href="#local-6989586621679077481"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077482"><a href="#local-6989586621679077482"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077483"><a href="#local-6989586621679077483"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679077484"><a href="#local-6989586621679077484"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">mappend</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077481"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077483"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077482"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679077484"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-316"></a><span>
</span><a name="line-317"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Bi.Bitraversable</span><span> </span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-318"></a><span>  </span><a name="local-8214565720323786604"><span class="hs-identifier">bitraverse</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">pure</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>
</span><a name="line-319"></a><span>  </span><span class="hs-identifier">bitraverse</span><span> </span><a name="local-6989586621679077477"><a href="#local-6989586621679077477"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077478"><a href="#local-6989586621679077478"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077479"><a href="#local-6989586621679077479"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679077480"><a href="#local-6989586621679077480"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="#local-6989586621679077477"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077479"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;*&gt;</span><span> </span><a href="#local-6989586621679077478"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679077480"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-320"></a><span>
</span><a name="line-321"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679077476"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#ListF"><span class="hs-identifier hs-type">ListF</span></a><span> </span><a href="#local-6989586621679077476"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-322"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679077469"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-323"></a><span>  </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679077470"><a href="#local-6989586621679077470"><span class="hs-identifier">x</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679077471"><a href="#local-6989586621679077471"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a href="#local-6989586621679077470"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679077471"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-324"></a><span>  </span><span class="hs-identifier">project</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>
</span><a name="line-325"></a><span>
</span><a name="line-326"></a><span>  </span><a name="local-8214565720323851785"><a href="Data.Functor.Foldable.html#para"><span class="hs-identifier">para</span></a></a><span> </span><a name="local-6989586621679077472"><a href="#local-6989586621679077472"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679077473"><a href="#local-6989586621679077473"><span class="hs-identifier">x</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679077474"><a href="#local-6989586621679077474"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077472"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a href="#local-6989586621679077473"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077474"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#para"><span class="hs-identifier hs-var">para</span></a><span> </span><a href="#local-6989586621679077472"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077474"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-327"></a><span>  </span><span class="hs-identifier">para</span><span> </span><a name="local-6989586621679077475"><a href="#local-6989586621679077475"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077475"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span>
</span><a name="line-328"></a><span>
</span><a name="line-329"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679077460"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-330"></a><span>  </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077461"><a href="#local-6989586621679077461"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679077462"><a href="#local-6989586621679077462"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077461"><span class="hs-identifier hs-var">x</span></a><span class="hs-glyph">:</span><a href="#local-6989586621679077462"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-331"></a><span>  </span><span class="hs-identifier">embed</span><span> </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-332"></a><span>
</span><a name="line-333"></a><span>  </span><a name="local-8214565720323851779"><a href="Data.Functor.Foldable.html#apo"><span class="hs-identifier">apo</span></a></a><span> </span><a name="local-6989586621679077463"><a href="#local-6989586621679077463"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077464"><a href="#local-6989586621679077464"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679077463"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077464"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-334"></a><span>    </span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077465"><a href="#local-6989586621679077465"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Left</span><span> </span><a name="local-6989586621679077466"><a href="#local-6989586621679077466"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077465"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679077466"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-335"></a><span>    </span><a href="Data.Functor.Foldable.html#Cons"><span class="hs-identifier hs-var">Cons</span></a><span> </span><a name="local-6989586621679077467"><a href="#local-6989586621679077467"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Right</span><span> </span><a name="local-6989586621679077468"><a href="#local-6989586621679077468"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077467"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="Data.Functor.Foldable.html#apo"><span class="hs-identifier hs-var">apo</span></a><span> </span><a href="#local-6989586621679077463"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077468"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-336"></a><span>    </span><a href="Data.Functor.Foldable.html#Nil"><span class="hs-identifier hs-var">Nil</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-337"></a><span>
</span><a name="line-338"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">NonEmpty</span><span> </span><a href="#local-6989586621679077459"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Base.html#NonEmptyF"><span class="hs-identifier hs-type">NonEmptyF</span></a><span> </span><a href="#local-6989586621679077459"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-339"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">NonEmpty</span><span> </span><a href="#local-6989586621679077456"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-340"></a><span>  </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679077457"><a href="#local-6989586621679077457"><span class="hs-identifier">x</span></a></a><span class="hs-operator hs-var">:|</span><a name="local-6989586621679077458"><a href="#local-6989586621679077458"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Base.html#NonEmptyF"><span class="hs-identifier hs-var">NonEmptyF</span></a><span> </span><a href="#local-6989586621679077457"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">nonEmpty</span><span> </span><a href="#local-6989586621679077458"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-341"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">NonEmpty</span><span> </span><a href="#local-6989586621679077455"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-342"></a><span>  </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">:|</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><span class="hs-identifier">NEF.head</span><span> </span><span class="hs-operator hs-var">&lt;*&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-identifier hs-var">toList</span><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><span class="hs-identifier">NEF.tail</span><span class="hs-special">)</span><span>
</span><a name="line-343"></a><span>
</span><a name="line-344"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-identifier hs-type">Natural</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span>
</span><a name="line-345"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-identifier hs-type">Natural</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-346"></a><span>  </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-347"></a><span>  </span><span class="hs-identifier">project</span><span> </span><a name="local-6989586621679077454"><a href="#local-6989586621679077454"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077454"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-glyph">-</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-348"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-identifier hs-type">Natural</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-349"></a><span>  </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">+</span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-350"></a><span>
</span><a name="line-351"></a><span class="hs-comment">-- | Cofree comonads are Recursive/Corecursive</span><span>
</span><a name="line-352"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Cofree</span><span> </span><a href="#local-6989586621679077216"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077217"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">CofreeF</span><span> </span><a href="#local-6989586621679077216"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077217"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-353"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077212"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Cofree</span><span> </span><a href="#local-6989586621679077212"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077213"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-354"></a><span>  </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679077214"><a href="#local-6989586621679077214"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-operator hs-var">:&lt;</span><span> </span><a name="local-6989586621679077215"><a href="#local-6989586621679077215"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077214"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">CCTC.:&lt;</span><span> </span><a href="#local-6989586621679077215"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-355"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077208"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Cofree</span><span> </span><a href="#local-6989586621679077208"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077209"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-356"></a><span>  </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679077210"><a href="#local-6989586621679077210"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-operator hs-var">CCTC.:&lt;</span><span> </span><a name="local-6989586621679077211"><a href="#local-6989586621679077211"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077210"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">:&lt;</span><span> </span><a href="#local-6989586621679077211"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-357"></a><span>
</span><a name="line-358"></a><span class="hs-comment">-- | Cofree tranformations of comonads are Recursive/Corecusive</span><span>
</span><a name="line-359"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">CofreeT</span><span> </span><a href="#local-6989586621679077205"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077206"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077207"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Compose</span><span> </span><a href="#local-6989586621679077206"><span class="hs-identifier hs-type">w</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">CofreeF</span><span> </span><a href="#local-6989586621679077205"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077207"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-360"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077202"><span class="hs-identifier hs-type">w</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077203"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">CofreeT</span><span> </span><a href="#local-6989586621679077203"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077202"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077204"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-361"></a><span>  </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Compose</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">runCofreeT</span><span>
</span><a name="line-362"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077199"><span class="hs-identifier hs-type">w</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077200"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">CofreeT</span><span> </span><a href="#local-6989586621679077200"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077199"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077201"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-363"></a><span>  </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">CofreeT</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">getCompose</span><span>
</span><a name="line-364"></a><span>
</span><a name="line-365"></a><span class="hs-comment">-- | Free monads are Recursive/Corecursive</span><span>
</span><a name="line-366"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Free</span><span> </span><a href="#local-6989586621679077197"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077198"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">FreeF</span><span> </span><a href="#local-6989586621679077197"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077198"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-367"></a><span>
</span><a name="line-368"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077193"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Free</span><span> </span><a href="#local-6989586621679077193"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077194"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-369"></a><span>  </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Pure</span><span> </span><a name="local-6989586621679077195"><a href="#local-6989586621679077195"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">CMTF.Pure</span><span> </span><a href="#local-6989586621679077195"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-370"></a><span>  </span><span class="hs-identifier">project</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Free</span><span> </span><a name="local-6989586621679077196"><a href="#local-6989586621679077196"><span class="hs-identifier">f</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">CMTF.Free</span><span> </span><a href="#local-6989586621679077196"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-371"></a><span>
</span><a name="line-372"></a><span class="hs-identifier">improveF</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077897"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">CMFC.F</span><span> </span><a href="#local-6989586621679077897"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077898"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Free</span><span> </span><a href="#local-6989586621679077897"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077898"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-373"></a><a name="improveF"><a href="Data.Functor.Foldable.html#improveF"><span class="hs-identifier">improveF</span></a></a><span> </span><a name="local-6989586621679077919"><a href="#local-6989586621679077919"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">CMFC.improve</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">CMFC.fromF</span><span> </span><a href="#local-6989586621679077919"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-374"></a><span class="hs-comment">-- | It may be better to work with the instance for `CMFC.F` directly.</span><span>
</span><a name="line-375"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077183"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Free</span><span> </span><a href="#local-6989586621679077183"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077184"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-376"></a><span>  </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">CMTF.Pure</span><span> </span><a name="local-6989586621679077185"><a href="#local-6989586621679077185"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Pure</span><span> </span><a href="#local-6989586621679077185"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-377"></a><span>  </span><span class="hs-identifier">embed</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">CMTF.Free</span><span> </span><a name="local-6989586621679077186"><a href="#local-6989586621679077186"><span class="hs-identifier">f</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Free</span><span> </span><a href="#local-6989586621679077186"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-378"></a><span>  </span><a name="local-8214565720323851778"><a href="Data.Functor.Foldable.html#ana"><span class="hs-identifier">ana</span></a></a><span>               </span><a name="local-6989586621679077187"><a href="#local-6989586621679077187"><span class="hs-identifier">coalg</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#improveF"><span class="hs-identifier hs-var">improveF</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#ana"><span class="hs-identifier hs-var">ana</span></a><span>               </span><a href="#local-6989586621679077187"><span class="hs-identifier hs-var">coalg</span></a><span>
</span><a name="line-379"></a><span>  </span><a name="local-8214565720323851780"><a href="Data.Functor.Foldable.html#postpro"><span class="hs-identifier">postpro</span></a></a><span>       </span><a name="local-6989586621679077188"><a href="#local-6989586621679077188"><span class="hs-identifier">nat</span></a></a><span> </span><a name="local-6989586621679077189"><a href="#local-6989586621679077189"><span class="hs-identifier">coalg</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#improveF"><span class="hs-identifier hs-var">improveF</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#postpro"><span class="hs-identifier hs-var">postpro</span></a><span>       </span><a href="#local-6989586621679077188"><span class="hs-identifier hs-var">nat</span></a><span> </span><a href="#local-6989586621679077189"><span class="hs-identifier hs-var">coalg</span></a><span>
</span><a name="line-380"></a><span>  </span><a name="local-8214565720323851781"><a href="Data.Functor.Foldable.html#gpostpro"><span class="hs-identifier">gpostpro</span></a></a><span> </span><a name="local-6989586621679077190"><a href="#local-6989586621679077190"><span class="hs-identifier">dist</span></a></a><span> </span><a name="local-6989586621679077191"><a href="#local-6989586621679077191"><span class="hs-identifier">nat</span></a></a><span> </span><a name="local-6989586621679077192"><a href="#local-6989586621679077192"><span class="hs-identifier">coalg</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#improveF"><span class="hs-identifier hs-var">improveF</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#gpostpro"><span class="hs-identifier hs-var">gpostpro</span></a><span> </span><a href="#local-6989586621679077190"><span class="hs-identifier hs-var">dist</span></a><span> </span><a href="#local-6989586621679077191"><span class="hs-identifier hs-var">nat</span></a><span> </span><a href="#local-6989586621679077192"><span class="hs-identifier hs-var">coalg</span></a><span>
</span><a name="line-381"></a><span>
</span><a name="line-382"></a><span class="hs-comment">-- | Free transformations of monads are Recursive/Corecursive</span><span>
</span><a name="line-383"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">FreeT</span><span> </span><a href="#local-6989586621679077180"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077181"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077182"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Compose</span><span> </span><a href="#local-6989586621679077181"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">FreeF</span><span> </span><a href="#local-6989586621679077180"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077182"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-384"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077177"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077178"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">FreeT</span><span> </span><a href="#local-6989586621679077178"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077177"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077179"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-385"></a><span>  </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Compose</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">runFreeT</span><span>
</span><a name="line-386"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077174"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077175"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">FreeT</span><span> </span><a href="#local-6989586621679077175"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077174"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077176"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-387"></a><span>  </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">FreeT</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">getCompose</span><span>
</span><a name="line-388"></a><span>
</span><a name="line-389"></a><span class="hs-comment">-- If you are looking for instances for the free MonadPlus, please use the</span><span>
</span><a name="line-390"></a><span class="hs-comment">-- instance for FreeT f [].</span><span>
</span><a name="line-391"></a><span>
</span><a name="line-392"></a><span class="hs-comment">-- If you are looking for instances for the free alternative and free</span><span>
</span><a name="line-393"></a><span class="hs-comment">-- applicative, I'm sorry to disapoint you but you won't find them in this</span><span>
</span><a name="line-394"></a><span class="hs-comment">-- package.  They can be considered recurive, but using non-uniform recursion;</span><span>
</span><a name="line-395"></a><span class="hs-comment">-- this package only implements uniformly recursive folds / unfolds.</span><span>
</span><a name="line-396"></a><span>
</span><a name="line-397"></a><span class="hs-comment">-- | Example boring stub for non-recursive data types</span><span>
</span><a name="line-398"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621679077173"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Const</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621679077173"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-399"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621679077172"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Const</span><span>
</span><a name="line-400"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621679077171"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">getConst</span><span>
</span><a name="line-401"></a><span>
</span><a name="line-402"></a><span class="hs-comment">-- | Example boring stub for non-recursive data types</span><span>
</span><a name="line-403"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Either</span><span> </span><a href="#local-6989586621679077169"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679077170"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Const</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Either</span><span> </span><a href="#local-6989586621679077169"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679077170"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-404"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Either</span><span> </span><a href="#local-6989586621679077167"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679077168"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Const</span><span>
</span><a name="line-405"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Either</span><span> </span><a href="#local-6989586621679077165"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679077166"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">getConst</span><span>
</span><a name="line-406"></a><span>
</span><a name="line-407"></a><span class="hs-comment">-- | A generalized catamorphism</span><span>
</span><a name="line-408"></a><span class="hs-identifier">gfold</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">gcata</span><span>
</span><a name="line-409"></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077893"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Comonad</span><span> </span><a href="#local-6989586621679077894"><span class="hs-identifier hs-type">w</span></a><span class="hs-special">)</span><span>
</span><a name="line-410"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077896"><a href="#local-6989586621679077896"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077893"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077894"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077896"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077894"><span class="hs-identifier hs-type">w</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077893"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077896"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ a distributive law</span><span>
</span><a name="line-411"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077893"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077894"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077895"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077895"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>                      </span><span class="hs-comment">-- ^ a (Base t)-w-algebra</span><span>
</span><a name="line-412"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077893"><span class="hs-identifier hs-type">t</span></a><span>                                        </span><span class="hs-comment">-- ^ fixed point</span><span>
</span><a name="line-413"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077895"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-414"></a><a name="gcata"><a href="Data.Functor.Foldable.html#gcata"><span class="hs-identifier">gcata</span></a></a><span> </span><a name="local-6989586621679077920"><a href="#local-6989586621679077920"><span class="hs-identifier">k</span></a></a><span> </span><a name="local-6989586621679077921"><a href="#local-6989586621679077921"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077921"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">extract</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077922"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-415"></a><span>  </span><a name="local-6989586621679077922"><a href="#local-6989586621679077922"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077920"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">duplicate</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-6989586621679077921"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077922"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier hs-var">project</span></a><span>
</span><a name="line-416"></a><a name="gfold"><a href="Data.Functor.Foldable.html#gfold"><span class="hs-identifier">gfold</span></a></a><span> </span><a name="local-6989586621679077923"><a href="#local-6989586621679077923"><span class="hs-identifier">k</span></a></a><span> </span><a name="local-6989586621679077924"><a href="#local-6989586621679077924"><span class="hs-identifier">g</span></a></a><span> </span><a name="local-6989586621679077925"><a href="#local-6989586621679077925"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#gcata"><span class="hs-identifier hs-var">gcata</span></a><span> </span><a href="#local-6989586621679077923"><span class="hs-identifier hs-var">k</span></a><span> </span><a href="#local-6989586621679077924"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679077925"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-417"></a><span>
</span><a name="line-418"></a><span class="hs-identifier">distCata</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077891"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679077891"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Identity</span><span> </span><a href="#local-6989586621679077892"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Identity</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077891"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077892"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-419"></a><a name="distCata"><a href="Data.Functor.Foldable.html#distCata"><span class="hs-identifier">distCata</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Identity</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-identifier">runIdentity</span><span>
</span><a name="line-420"></a><span>
</span><a name="line-421"></a><span class="hs-comment">-- | A generalized anamorphism</span><span>
</span><a name="line-422"></a><span class="hs-identifier">gunfold</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">gana</span><span>
</span><a name="line-423"></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077887"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="#local-6989586621679077888"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span>
</span><a name="line-424"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077890"><a href="#local-6989586621679077890"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679077888"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077887"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077890"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077887"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077888"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077890"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ a distributive law</span><span>
</span><a name="line-425"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077889"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077887"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077888"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077889"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>                      </span><span class="hs-comment">-- ^ a (Base t)-m-coalgebra</span><span>
</span><a name="line-426"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077889"><span class="hs-identifier hs-type">a</span></a><span>                                        </span><span class="hs-comment">-- ^ seed</span><span>
</span><a name="line-427"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077887"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-428"></a><a name="gana"><a href="Data.Functor.Foldable.html#gana"><span class="hs-identifier">gana</span></a></a><span> </span><a name="local-6989586621679077926"><a href="#local-6989586621679077926"><span class="hs-identifier">k</span></a></a><span> </span><a name="local-6989586621679077927"><a href="#local-6989586621679077927"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077928"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077927"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-429"></a><span>  </span><a name="local-6989586621679077928"><a href="#local-6989586621679077928"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077928"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">liftM</span><span> </span><a href="#local-6989586621679077927"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">join</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077926"><span class="hs-identifier hs-var">k</span></a><span>
</span><a name="line-430"></a><a name="gunfold"><a href="Data.Functor.Foldable.html#gunfold"><span class="hs-identifier">gunfold</span></a></a><span> </span><a name="local-6989586621679077929"><a href="#local-6989586621679077929"><span class="hs-identifier">k</span></a></a><span> </span><a name="local-6989586621679077930"><a href="#local-6989586621679077930"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077931"><a href="#local-6989586621679077931"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#gana"><span class="hs-identifier hs-var">gana</span></a><span> </span><a href="#local-6989586621679077929"><span class="hs-identifier hs-var">k</span></a><span> </span><a href="#local-6989586621679077930"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077931"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-431"></a><span>
</span><a name="line-432"></a><span class="hs-identifier">distAna</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077885"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Identity</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077885"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077886"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077885"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Identity</span><span> </span><a href="#local-6989586621679077886"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-433"></a><a name="distAna"><a href="Data.Functor.Foldable.html#distAna"><span class="hs-identifier">distAna</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-identifier hs-var">Identity</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">runIdentity</span><span>
</span><a name="line-434"></a><span>
</span><a name="line-435"></a><span class="hs-comment">-- | A generalized hylomorphism</span><span>
</span><a name="line-436"></a><span class="hs-identifier">grefold</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">ghylo</span><span>
</span><a name="line-437"></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Comonad</span><span> </span><a href="#local-6989586621679077878"><span class="hs-identifier hs-type">w</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077879"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="#local-6989586621679077880"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span>
</span><a name="line-438"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077883"><a href="#local-6989586621679077883"><span class="hs-identifier">c</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679077879"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077878"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077883"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077878"><span class="hs-identifier hs-type">w</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077879"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077883"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-439"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077884"><a href="#local-6989586621679077884"><span class="hs-identifier">d</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679077880"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077879"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077884"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077879"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077880"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077884"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-440"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077879"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077878"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077881"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077881"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-441"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077882"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077879"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077880"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077882"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-442"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077882"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-443"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077881"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-444"></a><a name="ghylo"><a href="Data.Functor.Foldable.html#ghylo"><span class="hs-identifier">ghylo</span></a></a><span> </span><a name="local-6989586621679077932"><a href="#local-6989586621679077932"><span class="hs-identifier">w</span></a></a><span> </span><a name="local-6989586621679077933"><a href="#local-6989586621679077933"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-6989586621679077934"><a href="#local-6989586621679077934"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077935"><a href="#local-6989586621679077935"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">extract</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077936"><span class="hs-identifier hs-var">h</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-445"></a><span>  </span><a name="local-6989586621679077936"><a href="#local-6989586621679077936"><span class="hs-identifier">h</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-6989586621679077934"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077932"><span class="hs-identifier hs-var">w</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">duplicate</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077936"><span class="hs-identifier hs-var">h</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">join</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077933"><span class="hs-identifier hs-var">m</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">liftM</span><span> </span><a href="#local-6989586621679077935"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-446"></a><a name="grefold"><a href="Data.Functor.Foldable.html#grefold"><span class="hs-identifier">grefold</span></a></a><span> </span><a name="local-6989586621679077937"><a href="#local-6989586621679077937"><span class="hs-identifier">w</span></a></a><span> </span><a name="local-6989586621679077938"><a href="#local-6989586621679077938"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-6989586621679077939"><a href="#local-6989586621679077939"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077940"><a href="#local-6989586621679077940"><span class="hs-identifier">g</span></a></a><span> </span><a name="local-6989586621679077941"><a href="#local-6989586621679077941"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#ghylo"><span class="hs-identifier hs-var">ghylo</span></a><span> </span><a href="#local-6989586621679077937"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="#local-6989586621679077938"><span class="hs-identifier hs-var">m</span></a><span> </span><a href="#local-6989586621679077939"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077940"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679077941"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-447"></a><span>
</span><a name="line-448"></a><span class="hs-identifier">futu</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077876"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077877"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077876"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Free</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077876"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679077877"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077877"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077876"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-449"></a><a name="futu"><a href="Data.Functor.Foldable.html#futu"><span class="hs-identifier">futu</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#gana"><span class="hs-identifier hs-var">gana</span></a><span> </span><a href="Data.Functor.Foldable.html#distFutu"><span class="hs-identifier hs-var">distFutu</span></a><span>
</span><a name="line-450"></a><span>
</span><a name="line-451"></a><span class="hs-identifier">distFutu</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077874"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Free</span><span> </span><a href="#local-6989586621679077874"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077874"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077875"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077874"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Free</span><span> </span><a href="#local-6989586621679077874"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077875"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-452"></a><a name="distFutu"><a href="Data.Functor.Foldable.html#distFutu"><span class="hs-identifier">distFutu</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#distGFutu"><span class="hs-identifier hs-var">distGFutu</span></a><span> </span><span class="hs-identifier hs-var">id</span><span>
</span><a name="line-453"></a><span>
</span><a name="line-454"></a><span class="hs-identifier">distGFutu</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077870"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077871"><span class="hs-identifier hs-type">h</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077873"><a href="#local-6989586621679077873"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679077871"><span class="hs-identifier hs-type">h</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077870"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077873"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077870"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077871"><span class="hs-identifier hs-type">h</span></a><span> </span><a href="#local-6989586621679077873"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Free</span><span> </span><a href="#local-6989586621679077871"><span class="hs-identifier hs-type">h</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077870"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077872"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077870"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Free</span><span> </span><a href="#local-6989586621679077871"><span class="hs-identifier hs-type">h</span></a><span> </span><a href="#local-6989586621679077872"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-455"></a><a name="distGFutu"><a href="Data.Functor.Foldable.html#distGFutu"><span class="hs-identifier">distGFutu</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Pure</span><span> </span><a name="local-6989586621679077942"><a href="#local-6989586621679077942"><span class="hs-identifier">fa</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Pure</span><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="#local-6989586621679077942"><span class="hs-identifier hs-var">fa</span></a><span>
</span><a name="line-456"></a><span class="hs-identifier">distGFutu</span><span> </span><a name="local-6989586621679077943"><a href="#local-6989586621679077943"><span class="hs-identifier">k</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Free</span><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Free</span><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="#local-6989586621679077943"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#distGFutu"><span class="hs-identifier hs-var">distGFutu</span></a><span> </span><a href="#local-6989586621679077943"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span>
</span><a name="line-457"></a><span>
</span><a name="line-458"></a><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><a name="line-459"></a><span class="hs-comment">-- Fix</span><span>
</span><a name="line-460"></a><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><a name="line-461"></a><span>
</span><a name="line-462"></a><span class="hs-keyword">newtype</span><span> </span><a name="Fix"><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier">Fix</span></a></a><span> </span><a name="local-6989586621679076929"><a href="#local-6989586621679076929"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Fix"><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier">Fix</span></a></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679076929"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679076929"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-463"></a><span>
</span><a name="line-464"></a><span class="hs-identifier">unfix</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679077869"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077869"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679077869"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-465"></a><a name="unfix"><a href="Data.Functor.Foldable.html#unfix"><span class="hs-identifier">unfix</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-var">Fix</span></a><span> </span><a name="local-6989586621679077945"><a href="#local-6989586621679077945"><span class="hs-identifier">f</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077945"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-466"></a><span>
</span><a name="line-467"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Eq1</span><span> </span><a href="#local-6989586621679077162"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679077162"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-468"></a><span>  </span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-var">Fix</span></a><span> </span><a name="local-6989586621679077163"><a href="#local-6989586621679077163"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-3458764513820541095"><span class="hs-operator">==</span></a><span> </span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-var">Fix</span></a><span> </span><a name="local-6989586621679077164"><a href="#local-6989586621679077164"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">eq1</span><span> </span><a href="#local-6989586621679077163"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="#local-6989586621679077164"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-469"></a><span>
</span><a name="line-470"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Ord1</span><span> </span><a href="#local-6989586621679077159"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679077159"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-471"></a><span>  </span><a name="local-8214565720323790174"><span class="hs-identifier">compare</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-var">Fix</span></a><span> </span><a name="local-6989586621679077160"><a href="#local-6989586621679077160"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-var">Fix</span></a><span> </span><a name="local-6989586621679077161"><a href="#local-6989586621679077161"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">compare1</span><span> </span><a href="#local-6989586621679077160"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="#local-6989586621679077161"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-472"></a><span>
</span><a name="line-473"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show1</span><span> </span><a href="#local-6989586621679077156"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679077156"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-474"></a><span>  </span><a name="local-8214565720323790033"><span class="hs-identifier">showsPrec</span></a><span> </span><a name="local-6989586621679077157"><a href="#local-6989586621679077157"><span class="hs-identifier">d</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-var">Fix</span></a><span> </span><a name="local-6989586621679077158"><a href="#local-6989586621679077158"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-475"></a><span>    </span><span class="hs-identifier hs-var">showParen</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077157"><span class="hs-identifier hs-var">d</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><span class="hs-number">11</span><span class="hs-special">)</span><span>
</span><a name="line-476"></a><span>      </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">showString</span><span> </span><span class="hs-string">&quot;Fix &quot;</span><span>
</span><a name="line-477"></a><span>      </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">showsPrec1</span><span> </span><span class="hs-number">11</span><span> </span><a href="#local-6989586621679077158"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-478"></a><span>
</span><a name="line-479"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Read1</span><span> </span><a href="#local-6989586621679077155"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Read</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679077155"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-480"></a><span>  </span><a name="local-8214565720323789735"><span class="hs-identifier">readPrec</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">prec</span><span> </span><span class="hs-number">10</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-481"></a><span>    </span><span class="hs-identifier hs-var">Ident</span><span> </span><span class="hs-string">&quot;Fix&quot;</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">lexP</span><span>
</span><a name="line-482"></a><span>    </span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-var">Fix</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><span class="hs-identifier hs-var">step</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">readS_to_Prec</span><span> </span><span class="hs-identifier hs-var">readsPrec1</span><span class="hs-special">)</span><span>
</span><a name="line-483"></a><span>
</span><a name="line-484"></a><span class="hs-cpp">#ifdef __GLASGOW_HASKELL__
#if HAS_POLY_TYPEABLE
</span><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Typeable</span><span> </span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span>
</span><a name="line-487"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Typeable</span><span> </span><a href="#local-6989586621679078078"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Data</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679078078"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679078078"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Data</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679078078"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-488"></a><span class="hs-cpp">#else
</span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Typeable1</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Typeable</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Fix</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-490"></a><span>   </span><span class="hs-identifier">typeOf</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mkTyConApp</span><span> </span><span class="hs-identifier">fixTyCon</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">typeOf1</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">undefined</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">asArgsTypeOf</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">t</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-491"></a><span>     </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">asArgsTypeOf</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Fix</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-492"></a><span>           </span><span class="hs-identifier">asArgsTypeOf</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">const</span><span>
</span><a name="line-493"></a><span>
</span><a name="line-494"></a><span class="hs-identifier">fixTyCon</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TyCon</span><span>
</span><a name="line-495"></a><span class="hs-cpp">#if MIN_VERSION_base(4,4,0)
</span><span class="hs-identifier">fixTyCon</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mkTyCon3</span><span> </span><span class="hs-string">&quot;recursion-schemes&quot;</span><span> </span><span class="hs-string">&quot;Data.Functor.Foldable&quot;</span><span> </span><span class="hs-string">&quot;Fix&quot;</span><span>
</span><a name="line-497"></a><span class="hs-cpp">#else
</span><span class="hs-identifier">fixTyCon</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mkTyCon</span><span> </span><span class="hs-string">&quot;Data.Functor.Foldable.Fix&quot;</span><span>
</span><a name="line-499"></a><span class="hs-cpp">#endif
</span><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="hs-pragma">fixTyCon</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-501"></a><span>
</span><a name="line-502"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Typeable1</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Data</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Fix</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Data</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Fix</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-503"></a><span>  </span><span class="hs-identifier">gfoldl</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">z</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Fix</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">z</span><span> </span><span class="hs-identifier">Fix</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">f</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-504"></a><span>  </span><span class="hs-identifier">toConstr</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fixConstr</span><span>
</span><a name="line-505"></a><span>  </span><span class="hs-identifier">gunfold</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">z</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">constrIndex</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-506"></a><span>    </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">z</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Fix</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-507"></a><span>    </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">error</span><span> </span><span class="hs-string">&quot;gunfold&quot;</span><span>
</span><a name="line-508"></a><span>  </span><span class="hs-identifier">dataTypeOf</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fixDataType</span><span>
</span><a name="line-509"></a><span>
</span><a name="line-510"></a><span class="hs-identifier">fixConstr</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Constr</span><span>
</span><a name="line-511"></a><span class="hs-identifier">fixConstr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mkConstr</span><span> </span><span class="hs-identifier">fixDataType</span><span> </span><span class="hs-string">&quot;Fix&quot;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-identifier">Prefix</span><span>
</span><a name="line-512"></a><span>
</span><a name="line-513"></a><span class="hs-identifier">fixDataType</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DataType</span><span>
</span><a name="line-514"></a><span class="hs-identifier">fixDataType</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mkDataType</span><span> </span><span class="hs-string">&quot;Data.Functor.Foldable.Fix&quot;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">fixConstr</span><span class="hs-special">]</span><span>
</span><a name="line-515"></a><span class="hs-cpp">#endif
#endif
</span><span>
</span><a name="line-518"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679077154"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077154"><span class="hs-identifier hs-type">f</span></a><span>
</span><a name="line-519"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077152"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679077152"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-520"></a><span>  </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-var">Fix</span></a><span> </span><a name="local-6989586621679077153"><a href="#local-6989586621679077153"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077153"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-521"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077151"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679077151"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-522"></a><span>  </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-var">Fix</span></a><span>
</span><a name="line-523"></a><span>
</span><a name="line-524"></a><span class="hs-identifier">refix</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077610"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077611"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Base</span><span> </span><a href="#local-6989586621679077610"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">~</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077611"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679077610"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077611"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-525"></a><a name="refix"><a href="Data.Functor.Foldable.html#refix"><span class="hs-identifier">refix</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#cata"><span class="hs-identifier hs-var">cata</span></a><span> </span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span>
</span><a name="line-526"></a><span>
</span><a name="line-527"></a><span class="hs-identifier">toFix</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077609"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679077609"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077609"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span>
</span><a name="line-528"></a><a name="toFix"><a href="Data.Functor.Foldable.html#toFix"><span class="hs-identifier">toFix</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#refix"><span class="hs-identifier hs-var">refix</span></a><span>
</span><a name="line-529"></a><span>
</span><a name="line-530"></a><span class="hs-identifier">fromFix</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077608"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077608"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077608"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-531"></a><a name="fromFix"><a href="Data.Functor.Foldable.html#fromFix"><span class="hs-identifier">fromFix</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#refix"><span class="hs-identifier hs-var">refix</span></a><span>
</span><a name="line-532"></a><span>
</span><a name="line-533"></a><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><a name="line-534"></a><span class="hs-comment">-- Lambek</span><span>
</span><a name="line-535"></a><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><a name="line-536"></a><span>
</span><a name="line-537"></a><span class="hs-comment">-- | Lambek's lemma provides a default definition for 'project' in terms of 'cata' and 'embed'</span><span>
</span><a name="line-538"></a><span class="hs-identifier">lambek</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077607"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077607"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077607"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077607"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077607"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span>
</span><a name="line-539"></a><a name="lambek"><a href="Data.Functor.Foldable.html#lambek"><span class="hs-identifier">lambek</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#cata"><span class="hs-identifier hs-var">cata</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier hs-var">embed</span></a><span class="hs-special">)</span><span>
</span><a name="line-540"></a><span>
</span><a name="line-541"></a><span class="hs-comment">-- | The dual of Lambek's lemma, provides a default definition for 'embed' in terms of 'ana' and 'project'</span><span>
</span><a name="line-542"></a><span class="hs-identifier">colambek</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077606"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077606"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077606"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077606"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077606"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span>
</span><a name="line-543"></a><a name="colambek"><a href="Data.Functor.Foldable.html#colambek"><span class="hs-identifier">colambek</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#ana"><span class="hs-identifier hs-var">ana</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier hs-var">project</span></a><span class="hs-special">)</span><span>
</span><a name="line-544"></a><span>
</span><a name="line-545"></a><span class="hs-keyword">newtype</span><span> </span><a name="Mu"><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier">Mu</span></a></a><span> </span><a name="local-6989586621679076927"><a href="#local-6989586621679076927"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Mu"><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier">Mu</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679076928"><a href="#local-6989586621679076928"><span class="hs-identifier">a</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679076927"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679076928"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679076928"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679076928"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-546"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier hs-type">Mu</span></a><span> </span><a href="#local-6989586621679077150"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077150"><span class="hs-identifier hs-type">f</span></a><span>
</span><a name="line-547"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077147"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier hs-type">Mu</span></a><span> </span><a href="#local-6989586621679077147"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-548"></a><span>  </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#lambek"><span class="hs-identifier hs-var">lambek</span></a><span>
</span><a name="line-549"></a><span>  </span><a name="local-8214565720323851784"><a href="Data.Functor.Foldable.html#cata"><span class="hs-identifier">cata</span></a></a><span> </span><a name="local-6989586621679077148"><a href="#local-6989586621679077148"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier hs-var">Mu</span></a><span> </span><a name="local-6989586621679077149"><a href="#local-6989586621679077149"><span class="hs-identifier">g</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077149"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679077148"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-550"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077144"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier hs-type">Mu</span></a><span> </span><a href="#local-6989586621679077144"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-551"></a><span>  </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><a name="local-6989586621679077145"><a href="#local-6989586621679077145"><span class="hs-identifier">m</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier hs-var">Mu</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679077146"><a href="#local-6989586621679077146"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077146"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#fold"><span class="hs-identifier hs-var">fold</span></a><span> </span><a href="#local-6989586621679077146"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679077145"><span class="hs-identifier hs-var">m</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-552"></a><span>
</span><a name="line-553"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077143"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Eq1</span><span> </span><a href="#local-6989586621679077143"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier hs-type">Mu</span></a><span> </span><a href="#local-6989586621679077143"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-554"></a><span>  </span><span class="hs-special">(</span><a name="local-3458764513820541095"><span class="hs-operator">==</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">==</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><a href="Data.Functor.Foldable.html#toFix"><span class="hs-identifier hs-var">toFix</span></a><span>
</span><a name="line-555"></a><span>
</span><a name="line-556"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077142"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Ord1</span><span> </span><a href="#local-6989586621679077142"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier hs-type">Mu</span></a><span> </span><a href="#local-6989586621679077142"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-557"></a><span>  </span><a name="local-8214565720323790174"><span class="hs-identifier">compare</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">compare</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><a href="Data.Functor.Foldable.html#toFix"><span class="hs-identifier hs-var">toFix</span></a><span>
</span><a name="line-558"></a><span>
</span><a name="line-559"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077139"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Show1</span><span> </span><a href="#local-6989586621679077139"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier hs-type">Mu</span></a><span> </span><a href="#local-6989586621679077139"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-560"></a><span>  </span><a name="local-8214565720323790033"><span class="hs-identifier">showsPrec</span></a><span> </span><a name="local-6989586621679077140"><a href="#local-6989586621679077140"><span class="hs-identifier">d</span></a></a><span> </span><a name="local-6989586621679077141"><a href="#local-6989586621679077141"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">showParen</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077140"><span class="hs-identifier hs-var">d</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span> </span><span class="hs-number">10</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$</span><span>
</span><a name="line-561"></a><span>    </span><span class="hs-identifier hs-var">showString</span><span> </span><span class="hs-string">&quot;fromFix &quot;</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">showsPrec</span><span> </span><span class="hs-number">11</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#toFix"><span class="hs-identifier hs-var">toFix</span></a><span> </span><a href="#local-6989586621679077141"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-562"></a><span>
</span><a name="line-563"></a><span class="hs-cpp">#ifdef __GLASGOW_HASKELL__
</span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077138"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Read1</span><span> </span><a href="#local-6989586621679077138"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Read</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Mu"><span class="hs-identifier hs-type">Mu</span></a><span> </span><a href="#local-6989586621679077138"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-565"></a><span>  </span><a name="local-8214565720323789735"><span class="hs-identifier">readPrec</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">prec</span><span> </span><span class="hs-number">10</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-566"></a><span>    </span><span class="hs-identifier hs-var">Ident</span><span> </span><span class="hs-string">&quot;fromFix&quot;</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">lexP</span><span>
</span><a name="line-567"></a><span>    </span><a href="Data.Functor.Foldable.html#fromFix"><span class="hs-identifier hs-var">fromFix</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><span class="hs-identifier hs-var">step</span><span> </span><span class="hs-identifier hs-var">readPrec</span><span>
</span><a name="line-568"></a><span class="hs-cpp">#endif
</span><span>
</span><a name="line-570"></a><span class="hs-comment">-- | Church encoded free monads are Recursive/Corecursive, in the same way that</span><span>
</span><a name="line-571"></a><span class="hs-comment">-- 'Mu' is.</span><span>
</span><a name="line-572"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">CMFC.F</span><span> </span><a href="#local-6989586621679077136"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077137"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">FreeF</span><span> </span><a href="#local-6989586621679077136"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077137"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-573"></a><span class="hs-identifier">cmfcCata</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077603"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077604"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077605"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077604"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077604"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">CMFC.F</span><span> </span><a href="#local-6989586621679077605"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077603"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077604"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-574"></a><a name="cmfcCata"><a href="Data.Functor.Foldable.html#cmfcCata"><span class="hs-identifier">cmfcCata</span></a></a><span> </span><a name="local-6989586621679077946"><a href="#local-6989586621679077946"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679077947"><a href="#local-6989586621679077947"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">CMFC.F</span><span> </span><a name="local-6989586621679077948"><a href="#local-6989586621679077948"><span class="hs-identifier">run</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077948"><span class="hs-identifier hs-var">run</span></a><span> </span><a href="#local-6989586621679077946"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679077947"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-575"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077133"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">CMFC.F</span><span> </span><a href="#local-6989586621679077133"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077134"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-576"></a><span>  </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#lambek"><span class="hs-identifier hs-var">lambek</span></a><span>
</span><a name="line-577"></a><span>  </span><a name="local-8214565720323851784"><a href="Data.Functor.Foldable.html#cata"><span class="hs-identifier">cata</span></a></a><span> </span><a name="local-6989586621679077135"><a href="#local-6989586621679077135"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#cmfcCata"><span class="hs-identifier hs-var">cmfcCata</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077135"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">CMTF.Pure</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077135"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">CMTF.Free</span><span class="hs-special">)</span><span>
</span><a name="line-578"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077126"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">CMFC.F</span><span> </span><a href="#local-6989586621679077126"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077127"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-579"></a><span>  </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">CMTF.Pure</span><span> </span><a name="local-6989586621679077128"><a href="#local-6989586621679077128"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">CMFC.F</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679077129"><a href="#local-6989586621679077129"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077129"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679077128"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-580"></a><span>  </span><span class="hs-identifier">embed</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">CMTF.Free</span><span> </span><a name="local-6989586621679077130"><a href="#local-6989586621679077130"><span class="hs-identifier">fr</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">CMFC.F</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679077131"><a href="#local-6989586621679077131"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679077132"><a href="#local-6989586621679077132"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077132"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#cmfcCata"><span class="hs-identifier hs-var">cmfcCata</span></a><span> </span><a href="#local-6989586621679077131"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679077132"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679077130"><span class="hs-identifier hs-var">fr</span></a><span>
</span><a name="line-581"></a><span>
</span><a name="line-582"></a><span class="hs-keyword">data</span><span> </span><a name="Nu"><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier">Nu</span></a></a><span> </span><a name="local-6989586621679076924"><a href="#local-6989586621679076924"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="Nu"><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier">Nu</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679076925"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679076926"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679076925"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679076925"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-type">Nu</span></a><span> </span><a href="#local-6989586621679076926"><span class="hs-identifier hs-type">f</span></a><span>
</span><a name="line-583"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-type">Nu</span></a><span> </span><a href="#local-6989586621679077125"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077125"><span class="hs-identifier hs-type">f</span></a><span>
</span><a name="line-584"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077124"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-type">Nu</span></a><span> </span><a href="#local-6989586621679077124"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-585"></a><span>  </span><a name="local-8214565720323851777"><a href="Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#colambek"><span class="hs-identifier hs-var">colambek</span></a><span>
</span><a name="line-586"></a><span>  </span><a name="local-8214565720323851778"><a href="Data.Functor.Foldable.html#ana"><span class="hs-identifier">ana</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-var">Nu</span></a><span>
</span><a name="line-587"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077121"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-type">Nu</span></a><span> </span><a href="#local-6989586621679077121"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-588"></a><span>  </span><a name="local-8214565720323851783"><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-var">Nu</span></a><span> </span><a name="local-6989586621679077122"><a href="#local-6989586621679077122"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077123"><a href="#local-6989586621679077123"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-var">Nu</span></a><span> </span><a href="#local-6989586621679077122"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="#local-6989586621679077122"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077123"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-589"></a><span>
</span><a name="line-590"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077120"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Eq1</span><span> </span><a href="#local-6989586621679077120"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-type">Nu</span></a><span> </span><a href="#local-6989586621679077120"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-591"></a><span>  </span><span class="hs-special">(</span><a name="local-3458764513820541095"><span class="hs-operator">==</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">==</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><a href="Data.Functor.Foldable.html#toFix"><span class="hs-identifier hs-var">toFix</span></a><span>
</span><a name="line-592"></a><span>
</span><a name="line-593"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077119"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Ord1</span><span> </span><a href="#local-6989586621679077119"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-type">Nu</span></a><span> </span><a href="#local-6989586621679077119"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-594"></a><span>  </span><a name="local-8214565720323790174"><span class="hs-identifier">compare</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">compare</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><a href="Data.Functor.Foldable.html#toFix"><span class="hs-identifier hs-var">toFix</span></a><span>
</span><a name="line-595"></a><span>
</span><a name="line-596"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077116"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Show1</span><span> </span><a href="#local-6989586621679077116"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-type">Nu</span></a><span> </span><a href="#local-6989586621679077116"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-597"></a><span>  </span><a name="local-8214565720323790033"><span class="hs-identifier">showsPrec</span></a><span> </span><a name="local-6989586621679077117"><a href="#local-6989586621679077117"><span class="hs-identifier">d</span></a></a><span> </span><a name="local-6989586621679077118"><a href="#local-6989586621679077118"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">showParen</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077117"><span class="hs-identifier hs-var">d</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span> </span><span class="hs-number">10</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$</span><span>
</span><a name="line-598"></a><span>    </span><span class="hs-identifier hs-var">showString</span><span> </span><span class="hs-string">&quot;fromFix &quot;</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">showsPrec</span><span> </span><span class="hs-number">11</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#toFix"><span class="hs-identifier hs-var">toFix</span></a><span> </span><a href="#local-6989586621679077118"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-599"></a><span>
</span><a name="line-600"></a><span class="hs-cpp">#ifdef __GLASGOW_HASKELL__
</span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077115"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Read1</span><span> </span><a href="#local-6989586621679077115"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Read</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Nu"><span class="hs-identifier hs-type">Nu</span></a><span> </span><a href="#local-6989586621679077115"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-602"></a><span>  </span><a name="local-8214565720323789735"><span class="hs-identifier">readPrec</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">parens</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">prec</span><span> </span><span class="hs-number">10</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-603"></a><span>    </span><span class="hs-identifier hs-var">Ident</span><span> </span><span class="hs-string">&quot;fromFix&quot;</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">lexP</span><span>
</span><a name="line-604"></a><span>    </span><a href="Data.Functor.Foldable.html#fromFix"><span class="hs-identifier hs-var">fromFix</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><span class="hs-identifier hs-var">step</span><span> </span><span class="hs-identifier hs-var">readPrec</span><span>
</span><a name="line-605"></a><span class="hs-cpp">#endif
</span><span>
</span><a name="line-607"></a><span class="hs-identifier">zygo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077600"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077600"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077601"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077601"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077600"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077601"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679077602"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077602"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077600"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077602"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-608"></a><a name="zygo"><a href="Data.Functor.Foldable.html#zygo"><span class="hs-identifier">zygo</span></a></a><span> </span><a name="local-6989586621679077949"><a href="#local-6989586621679077949"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#gfold"><span class="hs-identifier hs-var">gfold</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#distZygo"><span class="hs-identifier hs-var">distZygo</span></a><span> </span><a href="#local-6989586621679077949"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-609"></a><span>
</span><a name="line-610"></a><span class="hs-identifier">distZygo</span><span>
</span><a name="line-611"></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077597"><span class="hs-identifier hs-type">f</span></a><span>
</span><a name="line-612"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077597"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077598"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077598"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>             </span><span class="hs-comment">-- An f-algebra</span><span>
</span><a name="line-613"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077597"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077598"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679077599"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077598"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679077597"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077599"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ A distributive for semi-mutual recursion</span><span>
</span><a name="line-614"></a><a name="distZygo"><a href="Data.Functor.Foldable.html#distZygo"><span class="hs-identifier">distZygo</span></a></a><span> </span><a name="local-6989586621679077950"><a href="#local-6989586621679077950"><span class="hs-identifier">g</span></a></a><span> </span><a name="local-6989586621679077951"><a href="#local-6989586621679077951"><span class="hs-identifier">m</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077950"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-identifier hs-var">fst</span><span> </span><a href="#local-6989586621679077951"><span class="hs-identifier hs-var">m</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-identifier hs-var">snd</span><span> </span><a href="#local-6989586621679077951"><span class="hs-identifier hs-var">m</span></a><span class="hs-special">)</span><span>
</span><a name="line-615"></a><span>
</span><a name="line-616"></a><span class="hs-identifier">gzygo</span><span>
</span><a name="line-617"></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077592"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Comonad</span><span> </span><a href="#local-6989586621679077593"><span class="hs-identifier hs-type">w</span></a><span class="hs-special">)</span><span>
</span><a name="line-618"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077592"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077594"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077594"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-619"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077596"><a href="#local-6989586621679077596"><span class="hs-identifier">c</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077592"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077593"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077596"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077593"><span class="hs-identifier hs-type">w</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077592"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077596"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-620"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077592"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">EnvT</span><span> </span><a href="#local-6989586621679077594"><span class="hs-identifier hs-type">b</span></a><span> </span><a href="#local-6989586621679077593"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077595"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077595"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-621"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077592"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-622"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077595"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-623"></a><a name="gzygo"><a href="Data.Functor.Foldable.html#gzygo"><span class="hs-identifier">gzygo</span></a></a><span> </span><a name="local-6989586621679077967"><a href="#local-6989586621679077967"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679077968"><a href="#local-6989586621679077968"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#gfold"><span class="hs-identifier hs-var">gfold</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#distZygoT"><span class="hs-identifier hs-var">distZygoT</span></a><span> </span><a href="#local-6989586621679077967"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679077968"><span class="hs-identifier hs-var">w</span></a><span class="hs-special">)</span><span>
</span><a name="line-624"></a><span>
</span><a name="line-625"></a><span class="hs-identifier">distZygoT</span><span>
</span><a name="line-626"></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077587"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Comonad</span><span> </span><a href="#local-6989586621679077588"><span class="hs-identifier hs-type">w</span></a><span class="hs-special">)</span><span>
</span><a name="line-627"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077587"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077589"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077589"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>                        </span><span class="hs-comment">-- An f-w-algebra to use for semi-mutual recursion</span><span>
</span><a name="line-628"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077591"><a href="#local-6989586621679077591"><span class="hs-identifier">c</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679077587"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077588"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077591"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077588"><span class="hs-identifier hs-type">w</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077587"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077591"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- A base Distributive law</span><span>
</span><a name="line-629"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077587"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">EnvT</span><span> </span><a href="#local-6989586621679077589"><span class="hs-identifier hs-type">b</span></a><span> </span><a href="#local-6989586621679077588"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077590"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">EnvT</span><span> </span><a href="#local-6989586621679077589"><span class="hs-identifier hs-type">b</span></a><span> </span><a href="#local-6989586621679077588"><span class="hs-identifier hs-type">w</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077587"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077590"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- A new distributive law that adds semi-mutual recursion</span><span>
</span><a name="line-630"></a><a name="distZygoT"><a href="Data.Functor.Foldable.html#distZygoT"><span class="hs-identifier">distZygoT</span></a></a><span> </span><a name="local-6989586621679077969"><a href="#local-6989586621679077969"><span class="hs-identifier">g</span></a></a><span> </span><a name="local-6989586621679077970"><a href="#local-6989586621679077970"><span class="hs-identifier">k</span></a></a><span> </span><a name="local-6989586621679077971"><a href="#local-6989586621679077971"><span class="hs-identifier">fe</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">EnvT</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077969"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077972"><span class="hs-identifier hs-var">getEnv</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="#local-6989586621679077971"><span class="hs-identifier hs-var">fe</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077970"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">lower</span><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="#local-6989586621679077971"><span class="hs-identifier hs-var">fe</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-631"></a><span>  </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679077972"><a href="#local-6989586621679077972"><span class="hs-identifier">getEnv</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">EnvT</span><span> </span><a name="local-6989586621679077973"><a href="#local-6989586621679077973"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679077973"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-632"></a><span>
</span><a name="line-633"></a><span class="hs-identifier">gapo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077584"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077585"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077584"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077585"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077586"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077584"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Either</span><span> </span><a href="#local-6989586621679077585"><span class="hs-identifier hs-type">b</span></a><span> </span><a href="#local-6989586621679077586"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077586"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077584"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-634"></a><a name="gapo"><a href="Data.Functor.Foldable.html#gapo"><span class="hs-identifier">gapo</span></a></a><span> </span><a name="local-6989586621679077974"><a href="#local-6989586621679077974"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#gunfold"><span class="hs-identifier hs-var">gunfold</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#distGApo"><span class="hs-identifier hs-var">distGApo</span></a><span> </span><a href="#local-6989586621679077974"><span class="hs-identifier hs-var">g</span></a><span class="hs-special">)</span><span>
</span><a name="line-635"></a><span>
</span><a name="line-636"></a><span class="hs-identifier">distApo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077582"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Either</span><span> </span><a href="#local-6989586621679077582"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077582"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077583"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077582"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Either</span><span> </span><a href="#local-6989586621679077582"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077583"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-637"></a><a name="distApo"><a href="Data.Functor.Foldable.html#distApo"><span class="hs-identifier">distApo</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#distGApo"><span class="hs-identifier hs-var">distGApo</span></a><span> </span><a href="Data.Functor.Foldable.html#project"><span class="hs-identifier hs-var">project</span></a><span>
</span><a name="line-638"></a><span>
</span><a name="line-639"></a><span class="hs-identifier">distGApo</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077579"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077580"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077579"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077580"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Either</span><span> </span><a href="#local-6989586621679077580"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077579"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077581"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077579"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Either</span><span> </span><a href="#local-6989586621679077580"><span class="hs-identifier hs-type">b</span></a><span> </span><a href="#local-6989586621679077581"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-640"></a><a name="distGApo"><a href="Data.Functor.Foldable.html#distGApo"><span class="hs-identifier">distGApo</span></a></a><span> </span><a name="local-6989586621679077975"><a href="#local-6989586621679077975"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">either</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-identifier hs-var">Left</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077975"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-identifier hs-var">Right</span><span class="hs-special">)</span><span>
</span><a name="line-641"></a><span>
</span><a name="line-642"></a><span class="hs-identifier">distGApoT</span><span>
</span><a name="line-643"></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077574"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077575"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span>
</span><a name="line-644"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077576"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077574"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077576"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-645"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077578"><a href="#local-6989586621679077578"><span class="hs-identifier">c</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679077575"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077574"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077578"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077574"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077575"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077578"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-646"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">ExceptT</span><span> </span><a href="#local-6989586621679077576"><span class="hs-identifier hs-type">b</span></a><span> </span><a href="#local-6989586621679077575"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077574"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077577"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-647"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077574"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">ExceptT</span><span> </span><a href="#local-6989586621679077576"><span class="hs-identifier hs-type">b</span></a><span> </span><a href="#local-6989586621679077575"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077577"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-648"></a><a name="distGApoT"><a href="Data.Functor.Foldable.html#distGApoT"><span class="hs-identifier">distGApoT</span></a></a><span> </span><a name="local-6989586621679077976"><a href="#local-6989586621679077976"><span class="hs-identifier">g</span></a></a><span> </span><a name="local-6989586621679077977"><a href="#local-6989586621679077977"><span class="hs-identifier">k</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-identifier hs-var">ExceptT</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679077977"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#distGApo"><span class="hs-identifier hs-var">distGApo</span></a><span> </span><a href="#local-6989586621679077976"><span class="hs-identifier hs-var">g</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">runExceptT</span><span>
</span><a name="line-649"></a><span>
</span><a name="line-650"></a><span class="hs-comment">-- | Course-of-value iteration</span><span>
</span><a name="line-651"></a><span class="hs-identifier">histo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077572"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077572"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Cofree</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077572"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679077573"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077573"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077572"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077573"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-652"></a><a name="histo"><a href="Data.Functor.Foldable.html#histo"><span class="hs-identifier">histo</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#gcata"><span class="hs-identifier hs-var">gcata</span></a><span> </span><a href="Data.Functor.Foldable.html#distHisto"><span class="hs-identifier hs-var">distHisto</span></a><span>
</span><a name="line-653"></a><span>
</span><a name="line-654"></a><span class="hs-identifier">ghisto</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077568"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077569"><span class="hs-identifier hs-type">h</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077571"><a href="#local-6989586621679077571"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077568"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077569"><span class="hs-identifier hs-type">h</span></a><span> </span><a href="#local-6989586621679077571"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077569"><span class="hs-identifier hs-type">h</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077568"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077571"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077568"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Cofree</span><span> </span><a href="#local-6989586621679077569"><span class="hs-identifier hs-type">h</span></a><span> </span><a href="#local-6989586621679077570"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077570"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077568"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077570"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-655"></a><a name="ghisto"><a href="Data.Functor.Foldable.html#ghisto"><span class="hs-identifier">ghisto</span></a></a><span> </span><a name="local-6989586621679077978"><a href="#local-6989586621679077978"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#gcata"><span class="hs-identifier hs-var">gcata</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#distGHisto"><span class="hs-identifier hs-var">distGHisto</span></a><span> </span><a href="#local-6989586621679077978"><span class="hs-identifier hs-var">g</span></a><span class="hs-special">)</span><span>
</span><a name="line-656"></a><span>
</span><a name="line-657"></a><span class="hs-identifier">distHisto</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077566"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679077566"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Cofree</span><span> </span><a href="#local-6989586621679077566"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077567"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Cofree</span><span> </span><a href="#local-6989586621679077566"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077566"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077567"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-658"></a><a name="distHisto"><a href="Data.Functor.Foldable.html#distHisto"><span class="hs-identifier">distHisto</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#distGHisto"><span class="hs-identifier hs-var">distGHisto</span></a><span> </span><span class="hs-identifier hs-var">id</span><span>
</span><a name="line-659"></a><span>
</span><a name="line-660"></a><span class="hs-identifier">distGHisto</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077562"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077563"><span class="hs-identifier hs-type">h</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077565"><a href="#local-6989586621679077565"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679077562"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077563"><span class="hs-identifier hs-type">h</span></a><span> </span><a href="#local-6989586621679077565"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077563"><span class="hs-identifier hs-type">h</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077562"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077565"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077562"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Cofree</span><span> </span><a href="#local-6989586621679077563"><span class="hs-identifier hs-type">h</span></a><span> </span><a href="#local-6989586621679077564"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Cofree</span><span> </span><a href="#local-6989586621679077563"><span class="hs-identifier hs-type">h</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077562"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077564"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-661"></a><a name="distGHisto"><a href="Data.Functor.Foldable.html#distGHisto"><span class="hs-identifier">distGHisto</span></a></a><span> </span><a name="local-6989586621679077979"><a href="#local-6989586621679077979"><span class="hs-identifier">k</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Cofree.unfold</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-keyword">as</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">extract</span><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><span class="hs-keyword">as</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621679077979"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Cofree.unwrap</span><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-662"></a><span>
</span><a name="line-663"></a><span class="hs-identifier">chrono</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077559"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077559"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Cofree</span><span> </span><a href="#local-6989586621679077559"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077560"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077560"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077561"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077559"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Free</span><span> </span><a href="#local-6989586621679077559"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077561"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077561"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077560"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-664"></a><a name="chrono"><a href="Data.Functor.Foldable.html#chrono"><span class="hs-identifier">chrono</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#ghylo"><span class="hs-identifier hs-var">ghylo</span></a><span> </span><a href="Data.Functor.Foldable.html#distHisto"><span class="hs-identifier hs-var">distHisto</span></a><span> </span><a href="Data.Functor.Foldable.html#distFutu"><span class="hs-identifier hs-var">distFutu</span></a><span>
</span><a name="line-665"></a><span>
</span><a name="line-666"></a><span class="hs-identifier">gchrono</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077552"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077553"><span class="hs-identifier hs-type">w</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077554"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><a name="line-667"></a><span>           </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077557"><a href="#local-6989586621679077557"><span class="hs-identifier">c</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679077552"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077553"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077557"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077553"><span class="hs-identifier hs-type">w</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077552"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077557"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-668"></a><span>           </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077558"><a href="#local-6989586621679077558"><span class="hs-identifier">c</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679077554"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077552"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077558"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077552"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077554"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077558"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-669"></a><span>           </span><span class="hs-special">(</span><a href="#local-6989586621679077552"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Cofree</span><span> </span><a href="#local-6989586621679077553"><span class="hs-identifier hs-type">w</span></a><span> </span><a href="#local-6989586621679077555"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077555"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077556"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077552"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Free</span><span> </span><a href="#local-6989586621679077554"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679077556"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-670"></a><span>           </span><span class="hs-special">(</span><a href="#local-6989586621679077556"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077555"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-671"></a><a name="gchrono"><a href="Data.Functor.Foldable.html#gchrono"><span class="hs-identifier">gchrono</span></a></a><span> </span><a name="local-6989586621679078046"><a href="#local-6989586621679078046"><span class="hs-identifier">w</span></a></a><span> </span><a name="local-6989586621679078047"><a href="#local-6989586621679078047"><span class="hs-identifier">m</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#ghylo"><span class="hs-identifier hs-var">ghylo</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#distGHisto"><span class="hs-identifier hs-var">distGHisto</span></a><span> </span><a href="#local-6989586621679078046"><span class="hs-identifier hs-var">w</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#distGFutu"><span class="hs-identifier hs-var">distGFutu</span></a><span> </span><a href="#local-6989586621679078047"><span class="hs-identifier hs-var">m</span></a><span class="hs-special">)</span><span>
</span><a name="line-672"></a><span>
</span><a name="line-673"></a><span class="hs-comment">-- | Mendler-style iteration</span><span>
</span><a name="line-674"></a><span class="hs-identifier">mcata</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077551"><a href="#local-6989586621679077551"><span class="hs-identifier">y</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077551"><span class="hs-identifier hs-type">y</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077549"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077550"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077551"><span class="hs-identifier hs-type">y</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077549"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679077550"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077549"><span class="hs-identifier hs-type">c</span></a><span>
</span><a name="line-675"></a><a name="mcata"><a href="Data.Functor.Foldable.html#mcata"><span class="hs-identifier">mcata</span></a></a><span> </span><a name="local-6989586621679078048"><a href="#local-6989586621679078048"><span class="hs-identifier">psi</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679078048"><span class="hs-identifier hs-var">psi</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#mcata"><span class="hs-identifier hs-var">mcata</span></a><span> </span><a href="#local-6989586621679078048"><span class="hs-identifier hs-var">psi</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#unfix"><span class="hs-identifier hs-var">unfix</span></a><span>
</span><a name="line-676"></a><span>
</span><a name="line-677"></a><span class="hs-comment">-- | Mendler-style course-of-value iteration</span><span>
</span><a name="line-678"></a><span class="hs-identifier">mhisto</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077548"><a href="#local-6989586621679077548"><span class="hs-identifier">y</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077548"><span class="hs-identifier hs-type">y</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077546"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077548"><span class="hs-identifier hs-type">y</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077547"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077548"><span class="hs-identifier hs-type">y</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077547"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077548"><span class="hs-identifier hs-type">y</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077546"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Fix"><span class="hs-identifier hs-type">Fix</span></a><span> </span><a href="#local-6989586621679077547"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077546"><span class="hs-identifier hs-type">c</span></a><span>
</span><a name="line-679"></a><a name="mhisto"><a href="Data.Functor.Foldable.html#mhisto"><span class="hs-identifier">mhisto</span></a></a><span> </span><a name="local-6989586621679078049"><a href="#local-6989586621679078049"><span class="hs-identifier">psi</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679078049"><span class="hs-identifier hs-var">psi</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#mhisto"><span class="hs-identifier hs-var">mhisto</span></a><span> </span><a href="#local-6989586621679078049"><span class="hs-identifier hs-var">psi</span></a><span class="hs-special">)</span><span> </span><a href="Data.Functor.Foldable.html#unfix"><span class="hs-identifier hs-var">unfix</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Functor.Foldable.html#unfix"><span class="hs-identifier hs-var">unfix</span></a><span>
</span><a name="line-680"></a><span>
</span><a name="line-681"></a><span class="hs-comment">-- | Elgot algebras</span><span>
</span><a name="line-682"></a><span class="hs-identifier">elgot</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077543"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077543"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077544"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077544"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077545"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Either</span><span> </span><a href="#local-6989586621679077544"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077543"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077545"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077545"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077544"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-683"></a><a name="elgot"><a href="Data.Functor.Foldable.html#elgot"><span class="hs-identifier">elgot</span></a></a><span> </span><a name="local-6989586621679078050"><a href="#local-6989586621679078050"><span class="hs-identifier">phi</span></a></a><span> </span><a name="local-6989586621679078051"><a href="#local-6989586621679078051"><span class="hs-identifier">psi</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679078052"><span class="hs-identifier hs-var">h</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679078052"><a href="#local-6989586621679078052"><span class="hs-identifier">h</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">id</span><span> </span><span class="hs-operator hs-var">|||</span><span> </span><a href="#local-6989586621679078050"><span class="hs-identifier hs-var">phi</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-6989586621679078052"><span class="hs-identifier hs-var">h</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679078051"><span class="hs-identifier hs-var">psi</span></a><span>
</span><a name="line-684"></a><span>
</span><a name="line-685"></a><span class="hs-comment">-- | Elgot coalgebras: &lt;http://comonad.com/reader/2008/elgot-coalgebras/&gt;</span><span>
</span><a name="line-686"></a><span class="hs-identifier">coelgot</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679077540"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><a href="#local-6989586621679077541"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679077540"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077542"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077542"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679077541"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077540"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679077541"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077541"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077542"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-687"></a><a name="coelgot"><a href="Data.Functor.Foldable.html#coelgot"><span class="hs-identifier">coelgot</span></a></a><span> </span><a name="local-6989586621679078053"><a href="#local-6989586621679078053"><span class="hs-identifier">phi</span></a></a><span> </span><a name="local-6989586621679078054"><a href="#local-6989586621679078054"><span class="hs-identifier">psi</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679078055"><span class="hs-identifier hs-var">h</span></a><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679078055"><a href="#local-6989586621679078055"><span class="hs-identifier">h</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679078053"><span class="hs-identifier hs-var">phi</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">id</span><span> </span><span class="hs-operator hs-var">&amp;&amp;&amp;</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-6989586621679078055"><span class="hs-identifier hs-var">h</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679078054"><span class="hs-identifier hs-var">psi</span></a><span class="hs-special">)</span><span>
</span><a name="line-688"></a><span>
</span><a name="line-689"></a><span class="hs-comment">-- | Zygohistomorphic prepromorphisms:</span><span>
</span><a name="line-690"></a><span class="hs-comment">--</span><span>
</span><a name="line-691"></a><span class="hs-comment">-- A corrected and modernized version of &lt;http://www.haskell.org/haskellwiki/Zygohistomorphic_prepromorphisms&gt;</span><span>
</span><a name="line-692"></a><span class="hs-identifier">zygoHistoPrepro</span><span>
</span><a name="line-693"></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Corecursive"><span class="hs-identifier hs-type">Corecursive</span></a><span> </span><a href="#local-6989586621679077536"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="Data.Functor.Foldable.html#Recursive"><span class="hs-identifier hs-type">Recursive</span></a><span> </span><a href="#local-6989586621679077536"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span>
</span><a name="line-694"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077536"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077537"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077537"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-695"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679077539"><a href="#local-6989586621679077539"><span class="hs-identifier">c</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077536"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077539"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077536"><span class="hs-identifier hs-type">t</span></a><span> </span><a href="#local-6989586621679077539"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span>
</span><a name="line-696"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077536"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">EnvT</span><span> </span><a href="#local-6989586621679077537"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Cofree</span><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#Base"><span class="hs-identifier hs-type">Base</span></a><span> </span><a href="#local-6989586621679077536"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679077538"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077538"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-697"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077536"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-698"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679077538"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-699"></a><a name="zygoHistoPrepro"><a href="Data.Functor.Foldable.html#zygoHistoPrepro"><span class="hs-identifier">zygoHistoPrepro</span></a></a><span> </span><a name="local-6989586621679078056"><a href="#local-6989586621679078056"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679078057"><a href="#local-6989586621679078057"><span class="hs-identifier">g</span></a></a><span> </span><a name="local-6989586621679078058"><a href="#local-6989586621679078058"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Functor.Foldable.html#gprepro"><span class="hs-identifier hs-var">gprepro</span></a><span> </span><span class="hs-special">(</span><a href="Data.Functor.Foldable.html#distZygoT"><span class="hs-identifier hs-var">distZygoT</span></a><span> </span><a href="#local-6989586621679078056"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="Data.Functor.Foldable.html#distHisto"><span class="hs-identifier hs-var">distHisto</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679078057"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679078058"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-700"></a><span>
</span><a name="line-701"></a><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><a name="line-702"></a><span class="hs-comment">-- Not exposed anywhere</span><span>
</span><a name="line-703"></a><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><a name="line-704"></a><span>
</span><a name="line-705"></a><span class="hs-comment">-- | Read a list (using square brackets and commas), given a function</span><span>
</span><a name="line-706"></a><span class="hs-comment">-- for reading elements.</span><span>
</span><a name="line-707"></a><span class="hs-identifier">_readListWith</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">ReadS</span><span> </span><a href="#local-6989586621679077535"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">ReadS</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679077535"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-708"></a><a name="_readListWith"><a href="Data.Functor.Foldable.html#_readListWith"><span class="hs-identifier">_readListWith</span></a></a><span> </span><a name="local-6989586621679078059"><a href="#local-6989586621679078059"><span class="hs-identifier">rp</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-709"></a><span>    </span><span class="hs-identifier hs-var">readParen</span><span> </span><span class="hs-identifier hs-var">False</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679078075"><a href="#local-6989586621679078075"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679078077"><span class="hs-identifier hs-var">pr</span></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;[&quot;</span><span class="hs-special">,</span><a name="local-6989586621679078076"><a href="#local-6989586621679078076"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">lex</span><span> </span><a href="#local-6989586621679078075"><span class="hs-identifier hs-var">r</span></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679078077"><a href="#local-6989586621679078077"><span class="hs-identifier">pr</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679078060"><span class="hs-identifier hs-var">readl</span></a><span> </span><a href="#local-6989586621679078076"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-710"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-711"></a><span>    </span><a name="local-6989586621679078060"><a href="#local-6989586621679078060"><span class="hs-identifier">readl</span></a></a><span> </span><a name="local-6989586621679078062"><a href="#local-6989586621679078062"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><a href="#local-6989586621679078063"><span class="hs-identifier hs-var">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;]&quot;</span><span class="hs-special">,</span><a name="local-6989586621679078063"><a href="#local-6989586621679078063"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">lex</span><span> </span><a href="#local-6989586621679078062"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-712"></a><span>        </span><span class="hs-special">[</span><span class="hs-special">(</span><a href="#local-6989586621679078064"><span class="hs-identifier hs-var">x</span></a><span class="hs-glyph">:</span><a href="#local-6989586621679078066"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">,</span><a href="#local-6989586621679078067"><span class="hs-identifier hs-var">u</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679078064"><a href="#local-6989586621679078064"><span class="hs-identifier">x</span></a></a><span class="hs-special">,</span><a name="local-6989586621679078065"><a href="#local-6989586621679078065"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679078059"><span class="hs-identifier hs-var">rp</span></a><span> </span><a href="#local-6989586621679078062"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679078066"><a href="#local-6989586621679078066"><span class="hs-identifier">xs</span></a></a><span class="hs-special">,</span><a name="local-6989586621679078067"><a href="#local-6989586621679078067"><span class="hs-identifier">u</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679078061"><span class="hs-identifier hs-var">readl'</span></a><span> </span><a href="#local-6989586621679078065"><span class="hs-identifier hs-var">t</span></a><span class="hs-special">]</span><span>
</span><a name="line-713"></a><span>    </span><a name="local-6989586621679078061"><a href="#local-6989586621679078061"><span class="hs-identifier">readl'</span></a></a><span> </span><a name="local-6989586621679078068"><a href="#local-6989586621679078068"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><a href="#local-6989586621679078069"><span class="hs-identifier hs-var">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;]&quot;</span><span class="hs-special">,</span><a name="local-6989586621679078069"><a href="#local-6989586621679078069"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">lex</span><span> </span><a href="#local-6989586621679078068"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-714"></a><span>        </span><span class="hs-special">[</span><span class="hs-special">(</span><a href="#local-6989586621679078071"><span class="hs-identifier hs-var">x</span></a><span class="hs-glyph">:</span><a href="#local-6989586621679078073"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">,</span><a href="#local-6989586621679078074"><span class="hs-identifier hs-var">v</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;,&quot;</span><span class="hs-special">,</span><a name="local-6989586621679078070"><a href="#local-6989586621679078070"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">lex</span><span> </span><a href="#local-6989586621679078068"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679078071"><a href="#local-6989586621679078071"><span class="hs-identifier">x</span></a></a><span class="hs-special">,</span><a name="local-6989586621679078072"><a href="#local-6989586621679078072"><span class="hs-identifier">u</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679078059"><span class="hs-identifier hs-var">rp</span></a><span> </span><a href="#local-6989586621679078070"><span class="hs-identifier hs-var">t</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679078073"><a href="#local-6989586621679078073"><span class="hs-identifier">xs</span></a></a><span class="hs-special">,</span><a name="local-6989586621679078074"><a href="#local-6989586621679078074"><span class="hs-identifier">v</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679078061"><span class="hs-identifier hs-var">readl'</span></a><span> </span><a href="#local-6989586621679078072"><span class="hs-identifier hs-var">u</span></a><span class="hs-special">]</span><span>
</span><a name="line-715"></a></pre></body></html>